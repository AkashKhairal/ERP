(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7190],{48944:function(e,s,t){Promise.resolve().then(t.bind(t,81347))},81347:function(e,s,t){"use strict";t.r(s);var r=t(57437),a=t(2265),c=t(24033),l=t(97022),n=t(11666),i=t(38523),d=t(74323),o=t(4862),x=t(68247),m=t(8129),u=t(95779),j=t(27003),h=t(94115),p=t(3089),f=t(10609),g=t(40150),N=t(20985),b=t(34490),v=t(16200);s.default=()=>{var e;let s=(0,c.useRouter)(),{logActivity:t}=(0,b.a)(),[y,w]=(0,a.useState)([]),[D,Z]=(0,a.useState)({totalProjects:0,activeProjects:0,completedProjects:0,totalBudget:0,averageProgress:0,projectsByStatus:[],projectsByType:[]}),[P,C]=(0,a.useState)(!0);(0,a.useEffect)(()=>{loadDashboardData(),t("Project Dashboard Visit","User accessed project dashboard")},[t]);let loadDashboardData=async()=>{try{C(!0);let e=await v.Z.getProjects();e.success?w(e.data):w(v.Z.getSampleProjects());let s=await v.Z.getProjectStats();s.success?Z(s.data):Z(v.Z.getSampleProjectStats())}catch(e){console.error("Error loading dashboard data:",e),w(v.Z.getSampleProjects()),Z(v.Z.getSampleProjectStats())}finally{C(!1)}},getStatusColor=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"planning":return"bg-yellow-100 text-yellow-800";case"on_hold":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getStatusIcon=e=>{switch(e){case"active":return(0,r.jsx)(l.Z,{className:"h-4 w-4"});case"completed":return(0,r.jsx)(n.Z,{className:"h-4 w-4"});case"planning":default:return(0,r.jsx)(i.Z,{className:"h-4 w-4"});case"on_hold":return(0,r.jsx)(d.Z,{className:"h-4 w-4"});case"cancelled":return(0,r.jsx)(o.Z,{className:"h-4 w-4"})}},getTypeIcon=e=>{switch(e){case"youtube":return"\uD83D\uDCFA";case"saas":return"\uD83D\uDCBB";case"freelance":return"\uD83D\uDCBC";case"internal":return"\uD83C\uDFE2";default:return"\uD83D\uDCC1"}},isOverdue=e=>new Date(e)<new Date,S=y.slice(0,5),_=y.filter(e=>"active"===e.status),O=y.filter(e=>isOverdue(e.endDate)&&"completed"!==e.status),k=[{title:"Create New Project",description:"Start a new project",icon:(0,r.jsx)(x.Z,{className:"h-6 w-6"}),action:()=>s.push("/projects/create"),color:"bg-blue-500 hover:bg-blue-600"},{title:"View All Projects",description:"See all projects",icon:(0,r.jsx)(m.Z,{className:"h-6 w-6"}),action:()=>s.push("/projects"),color:"bg-green-500 hover:bg-green-600"},{title:"Active Projects",description:"Manage active projects",icon:(0,r.jsx)(l.Z,{className:"h-6 w-6"}),action:()=>s.push("/projects?status=active"),color:"bg-purple-500 hover:bg-purple-600"},{title:"Project Analytics",description:"View project analytics",icon:(0,r.jsx)(u.Z,{className:"h-6 w-6"}),action:()=>s.push("/analytics"),color:"bg-orange-500 hover:bg-orange-600"}];return P?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Loading dashboard..."})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Project Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Overview of your projects and key metrics"})]}),(0,r.jsxs)(p.z,{onClick:()=>s.push("/projects/create"),children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:k.map((e,s)=>(0,r.jsx)(f.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:e.action,children:(0,r.jsx)(f.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color," text-white"),children:e.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})})},s))}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(f.ll,{className:"text-sm font-medium",children:"Total Projects"}),(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(f.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:D.totalProjects}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"All projects"})]})]}),(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(f.ll,{className:"text-sm font-medium",children:"Active Projects"}),(0,r.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(f.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:D.activeProjects}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(f.ll,{className:"text-sm font-medium",children:"Completed"}),(0,r.jsx)(n.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(f.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:D.completedProjects}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Successfully delivered"})]})]}),(0,r.jsxs)(f.Zb,{children:[(0,r.jsxs)(f.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(f.ll,{className:"text-sm font-medium",children:"Total Budget"}),(0,r.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(f.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(e=D.totalBudget,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e))}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all projects"})]})]})]}),(0,r.jsxs)(f.Zb,{children:[(0,r.jsx)(f.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(f.ll,{children:"Recent Projects"}),(0,r.jsx)(p.z,{variant:"outline",onClick:()=>s.push("/projects"),children:"View All"})]})}),(0,r.jsx)(f.aY,{children:0===S.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(m.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium",children:"No projects yet"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Create your first project to get started."})]}):(0,r.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{className:"text-2xl",children:getTypeIcon(e.type)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.client})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[getStatusIcon(e.status),(0,r.jsx)(g.C,{className:getStatusColor(e.status),children:e.status.replace("_"," ")})]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.progress,"% complete"]})]}),(0,r.jsx)(p.z,{variant:"outline",size:"sm",onClick:()=>s.push("/projects/".concat(e._id)),children:"View"})]})]},e._id))})})]}),_.length>0&&(0,r.jsxs)(f.Zb,{children:[(0,r.jsx)(f.Ol,{children:(0,r.jsx)(f.ll,{children:"Active Projects Progress"})}),(0,r.jsx)(f.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:_.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg",children:getTypeIcon(e.type)}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[e.progress,"%"]})]}),(0,r.jsx)(N.E,{value:e.progress,className:"h-2"}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Due: ",new Date(e.endDate).toLocaleDateString()]}),(0,r.jsxs)("span",{children:[(e.teamMembers||e.team||[]).length," members"]})]})]},e._id))})})]}),O.length>0&&(0,r.jsxs)(f.Zb,{className:"border-red-200 bg-red-50",children:[(0,r.jsx)(f.Ol,{children:(0,r.jsxs)(f.ll,{className:"flex items-center text-red-800",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Overdue Projects"]})}),(0,r.jsx)(f.aY,{children:(0,r.jsx)("div",{className:"space-y-2",children:O.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-red-100 rounded",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg",children:getTypeIcon(e.type)}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-sm text-red-600",children:["Due: ",new Date(e.endDate).toLocaleDateString()]}),(0,r.jsx)(p.z,{variant:"outline",size:"sm",onClick:()=>s.push("/projects/".concat(e._id)),children:"View"})]})]},e._id))})})]})]})}},40150:function(e,s,t){"use strict";t.d(s,{C:function(){return Badge}});var r=t(57437);t(2265);var a=t(96061),c=t(60345);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,c.cn)(l({variant:t}),s),...a})}},20985:function(e,s,t){"use strict";t.d(s,{E:function(){return n}});var r=t(57437),a=t(2265),c=t(23177),l=t(60345);let n=a.forwardRef((e,s)=>{let{className:t,value:a,...n}=e;return(0,r.jsx)(c.fC,{ref:s,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,r.jsx)(c.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});n.displayName=c.fC.displayName}},function(e){e.O(0,[5881,4829,3711,1397,2971,2472,1744],function(){return e(e.s=48944)}),_N_E=e.O()}]);