(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6240],{7489:function(e,s,a){Promise.resolve().then(a.bind(a,34048))},34048:function(e,s,a){"use strict";a.r(s);var t=a(57437),l=a(2265),r=a(6773),i=a(58144),n=a(47730),c=a(71840),d=a(79799),o=a(61023),x=a(77013),m=a(22178),h=a(68247),u=a(73835),j=a(77951),p=a(3719),f=a(17357),g=a(66794),v=a(4862),N=a(3089),y=a(86582),w=a(10609),b=a(40150),C=a(31472),k=a(6429),A=a(41735),Z=a(59748),S=a(34490);s.default=()=>{var e,s;let{user:a,isAuthenticated:U}=(0,S.a)(),[z,P]=(0,l.useState)([]),[E,F]=(0,l.useState)(!0),[D,L]=(0,l.useState)(""),[_,R]=(0,l.useState)("all"),[I,Y]=(0,l.useState)("all"),[O,V]=(0,l.useState)("all"),[q,M]=(0,l.useState)(!1),[Q,B]=(0,l.useState)(null),[W,T]=(0,l.useState)(!1),[J,H]=(0,l.useState)(!1),[K,$]=(0,l.useState)(!1),[G,X]=(0,l.useState)({}),[ee,es]=(0,l.useState)(null),[ea,et]=(0,l.useState)("cards"),[el,er]=(0,l.useState)(!1),hasAdminPrivileges=()=>!!a&&!!a.roles&&a.roles.some(e=>"Admin"===e.name||"admin"===e.name);(0,l.useEffect)(()=>{U?loadUsers():(F(!1),es("Please log in to access this page"))},[U]);let loadUsers=async()=>{F(!0),es(null);try{let e=await Z.W.getUsers();e.success&&e.data.length>0?P(e.data):hasAdminPrivileges()?await insertSampleUsers():P([])}catch(e){console.error("Error loading users:",e),es("Failed to load users. Please try again."),P(Z.W.getSampleUsers())}finally{F(!1)}},insertSampleUsers=async()=>{let e=Z.W.getSampleUsers(),s=[];for(let a of e)try{let e=await Z.W.createUser({...a,password:"Password123!"});e.success&&s.push(e.data)}catch(e){console.error("Error inserting sample user:",e)}s.length>0?P(s):P(e)},ei=z.filter(e=>{var s,a;let t=""===D||e.firstName.toLowerCase().includes(D.toLowerCase())||e.lastName.toLowerCase().includes(D.toLowerCase())||e.email.toLowerCase().includes(D.toLowerCase())||(null===(s=e.position)||void 0===s?void 0:s.toLowerCase().includes(D.toLowerCase())),l="all"===_||e.department===_,r="all"===I||("active"===I?e.isActive:!e.isActive),i="all"===O||(null===(a=e.roles)||void 0===a?void 0:a.some(e=>e.name.toLowerCase()===O.toLowerCase()));return t&&l&&r&&i}),handleEditUser=e=>{if(!hasAdminPrivileges()){es("You need admin privileges to edit users");return}B(e),X({firstName:e.firstName,lastName:e.lastName,email:e.email,department:e.department,position:e.position,phone:e.phone,isActive:e.isActive}),T(!0)},handleViewUser=e=>{B(e),H(!0)},handleDeleteUser=async e=>{if(!hasAdminPrivileges()){es("You need admin privileges to delete users");return}if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{let s=await Z.W.deleteUser(e);s.success?P(z.filter(s=>s._id!==e)):es("Failed to delete user: "+s.message)}catch(e){console.error("Error deleting user:",e),es("Failed to delete user")}},handleSaveUser=async()=>{if(!hasAdminPrivileges()){es("You need admin privileges to save users");return}if(!G.firstName||!G.lastName||!G.email||!G.department){es("Please fill in all required fields");return}$(!0),es(null);try{if(Q){let e=await Z.W.updateUser(Q._id,G);e.success?(P(z.map(s=>s._id===Q._id?{...s,...e.data}:s)),T(!1),B(null)):es("Failed to update user: "+e.message)}else{let e=await Z.W.createUser({...G,password:"Password123!"});e.success?(P([...z,e.data]),T(!1)):es("Failed to create user: "+e.message)}}catch(e){console.error("Error saving user:",e),es("Failed to save user")}finally{$(!1)}},getStatusColor=e=>e?"default":"destructive",getRoleColor=e=>{if(!e||0===e.length)return"secondary";let s=e[0].name.toLowerCase();switch(s){case"admin":return"destructive";case"manager":return"default";default:return"secondary"}},en=["engineering","content","marketing","finance","hr","operations"],handleFormChange=(e,s)=>{X(a=>({...a,[e]:s}))},renderUserCard=e=>(0,t.jsxs)(w.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,t.jsx)(w.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center",children:e.avatar?(0,t.jsx)("img",{src:e.avatar,alt:"",className:"w-12 h-12 rounded-full"}):(0,t.jsx)(r.Z,{className:"h-6 w-6 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(w.ll,{className:"text-lg",children:[e.firstName," ",e.lastName]}),(0,t.jsx)(w.SZ,{className:"mt-1",children:e.position||"No position specified"})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(b.C,{variant:getStatusColor(e.isActive||!1),children:e.isActive?"Active":"Inactive"})})]})}),(0,t.jsxs)(w.aY,{children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Email"})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Role"})]}),(0,t.jsx)(b.C,{variant:getRoleColor(e.roles),children:e.roles&&e.roles.length>0?e.roles[0].name:"Employee"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Department"})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.department.charAt(0).toUpperCase()+e.department.slice(1)})]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Phone"})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.phone})]}),e.hireDate&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Joined"})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:new Date(e.hireDate).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(N.z,{variant:"outline",size:"sm",onClick:()=>handleViewUser(e),children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"View"]}),hasAdminPrivileges()&&(0,t.jsxs)(N.z,{variant:"outline",size:"sm",onClick:()=>handleEditUser(e),children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),hasAdminPrivileges()&&(0,t.jsx)(N.z,{variant:"outline",size:"sm",onClick:()=>handleDeleteUser(e._id),children:(0,t.jsx)(m.Z,{className:"h-4 w-4"})})]})]})]},e._id);return U?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Users"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your team members and their permissions"})]}),hasAdminPrivileges()&&(0,t.jsxs)(N.z,{onClick:()=>{if(!hasAdminPrivileges()){es("You need admin privileges to create users");return}B(null),X({}),T(!0)},children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),ee&&(0,t.jsx)(w.Zb,{className:"border-red-200 bg-red-50",children:(0,t.jsxs)(w.aY,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-red-600",children:ee}),(0,t.jsx)(N.z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>es(null),children:"Dismiss"})]})}),(0,t.jsx)(w.Zb,{children:(0,t.jsxs)(w.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(y.I,{placeholder:"Search users...",value:D,onChange:e=>{L(e.target.value)},className:"pl-10"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(N.z,{variant:"outline",onClick:()=>M(!q),children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Filters"]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("button",{onClick:()=>et("list"===ea?"cards":"list"),className:"flex items-center space-x-2 hover:bg-gray-100 p-2 rounded-md transition-colors",children:["list"===ea?(0,t.jsx)(p.Z,{className:"h-4 w-4"}):(0,t.jsx)(f.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"list"===ea?"List":"Cards"})]})})]})]}),q&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"department-filter",children:"Department"}),(0,t.jsxs)(A.Ph,{value:_,onValueChange:R,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"All Departments"})}),(0,t.jsxs)(A.Bw,{children:[(0,t.jsx)(A.Ql,{value:"all",children:"All Departments"}),en.map(e=>(0,t.jsx)(A.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"role-filter",children:"Role"}),(0,t.jsxs)(A.Ph,{value:O,onValueChange:V,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"All Roles"})}),(0,t.jsxs)(A.Bw,{children:[(0,t.jsx)(A.Ql,{value:"all",children:"All Roles"}),["Admin","Manager","Employee","Intern"].map(e=>(0,t.jsx)(A.Ql,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"status-filter",children:"Status"}),(0,t.jsxs)(A.Ph,{value:I,onValueChange:Y,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"All Statuses"})}),(0,t.jsxs)(A.Bw,{children:[(0,t.jsx)(A.Ql,{value:"all",children:"All Statuses"}),["active","inactive"].map(e=>(0,t.jsx)(A.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]})]})]})}),(0,t.jsxs)(w.Zb,{children:[(0,t.jsx)(w.Ol,{children:(0,t.jsxs)(w.ll,{children:["Team Members (",ei.length,")"]})}),(0,t.jsx)(w.aY,{children:E?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(g.Z,{className:"h-8 w-8 animate-spin mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):"list"===ea?(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Role"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Department"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:ei.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:e.avatar?(0,t.jsx)("img",{src:e.avatar,alt:"",className:"w-8 h-8 rounded-full"}):(0,t.jsx)(r.Z,{className:"h-4 w-4 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),e.position&&(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.position})]})]})}),(0,t.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.email}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsx)(b.C,{variant:getRoleColor(e.roles),children:e.roles&&e.roles.length>0?e.roles[0].name:"Employee"})}),(0,t.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.department.charAt(0).toUpperCase()+e.department.slice(1)}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsx)(b.C,{variant:getStatusColor(e.isActive||!1),children:e.isActive?"Active":"Inactive"})}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.z,{variant:"ghost",size:"sm",onClick:()=>handleViewUser(e),children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})}),hasAdminPrivileges()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.z,{variant:"ghost",size:"sm",onClick:()=>handleEditUser(e),children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})}),(0,t.jsx)(N.z,{variant:"ghost",size:"sm",onClick:()=>handleDeleteUser(e._id),children:(0,t.jsx)(m.Z,{className:"h-4 w-4"})})]})]})})]},e._id))})]}),0===ei.length&&!E&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(r.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No users found"})]})]}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ei.map(e=>renderUserCard(e))})})]}),(0,t.jsx)(C.Vq,{open:W,onOpenChange:T,children:(0,t.jsxs)(C.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(C.fK,{children:[(0,t.jsx)(C.$N,{children:Q?"Edit User":"Add New User"}),(0,t.jsx)(C.Be,{children:Q?"Update user information":"Create a new user account"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"firstName",children:"First Name *"}),(0,t.jsx)(y.I,{id:"firstName",value:G.firstName||"",onChange:e=>handleFormChange("firstName",e.target.value),placeholder:"John"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"lastName",children:"Last Name *"}),(0,t.jsx)(y.I,{id:"lastName",value:G.lastName||"",onChange:e=>handleFormChange("lastName",e.target.value),placeholder:"Doe"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"email",children:"Email *"}),(0,t.jsx)(y.I,{id:"email",type:"email",value:G.email||"",onChange:e=>handleFormChange("email",e.target.value),placeholder:"john.doe@company.com"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"department",children:"Department *"}),(0,t.jsxs)(A.Ph,{value:G.department||"",onValueChange:e=>handleFormChange("department",e),children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"Select department"})}),(0,t.jsx)(A.Bw,{children:en.map(e=>(0,t.jsx)(A.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(A.Ph,{value:(null===(e=G.isActive)||void 0===e?void 0:e.toString())||"true",onValueChange:e=>handleFormChange("isActive","true"===e),children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"Select status"})}),(0,t.jsxs)(A.Bw,{children:[(0,t.jsx)(A.Ql,{value:"true",children:"Active"}),(0,t.jsx)(A.Ql,{value:"false",children:"Inactive"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"position",children:"Position"}),(0,t.jsx)(y.I,{id:"position",value:G.position||"",onChange:e=>handleFormChange("position",e.target.value),placeholder:"Software Engineer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{htmlFor:"phone",children:"Phone"}),(0,t.jsx)(y.I,{id:"phone",value:G.phone||"",onChange:e=>handleFormChange("phone",e.target.value),placeholder:"+1 (555) 123-4567"})]})]}),(0,t.jsxs)(C.cN,{children:[(0,t.jsx)(N.z,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),(0,t.jsx)(N.z,{onClick:handleSaveUser,disabled:K,children:K?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save User"})]})]})}),(0,t.jsx)(C.Vq,{open:J,onOpenChange:H,children:(0,t.jsxs)(C.cZ,{className:"sm:max-w-[1200px] max-h-[85vh] overflow-hidden",children:[(0,t.jsxs)(C.fK,{className:"pb-4",children:[(0,t.jsx)(C.$N,{className:"text-xl font-bold",children:"User Profile"}),(0,t.jsxs)(C.Be,{children:["Detailed information about ",null==Q?void 0:Q.firstName," ",null==Q?void 0:Q.lastName]})]}),Q&&(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border mb-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>er(!0),children:Q.avatar?(0,t.jsx)("img",{src:Q.avatar,alt:"",className:"w-16 h-16 rounded-full object-cover hover:opacity-90 transition-opacity"}):(0,t.jsx)(r.Z,{className:"h-8 w-8 text-white"})})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[Q.firstName," ",Q.lastName]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:Q.position||"No position specified"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,t.jsx)(b.C,{variant:getStatusColor(Q.isActive||!1),className:"text-xs",children:Q.isActive?"Active":"Inactive"}),(0,t.jsx)(b.C,{variant:getRoleColor(Q.roles),className:"text-xs",children:Q.roles&&Q.roles.length>0?Q.roles[0].name:"Employee"})]})]}),(0,t.jsx)("div",{className:"mt-2 md:mt-0",children:(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Employee ID"}),(0,t.jsx)("p",{className:"font-mono text-xs text-gray-700",children:(null===(s=Q._id)||void 0===s?void 0:s.slice(-8))||"N/A"})]})})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(w.Zb,{className:"h-fit",children:[(0,t.jsx)(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 text-blue-500"}),(0,t.jsx)("span",{children:"Contact Information"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(i.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Email Address"}),(0,t.jsx)("p",{className:"text-xs text-gray-900 truncate",children:Q.email})]})]}),Q.phone&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(c.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Phone Number"}),(0,t.jsx)("p",{className:"text-xs text-gray-900",children:Q.phone})]})]})]})]}),(0,t.jsxs)(w.Zb,{className:"h-fit",children:[(0,t.jsx)(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{children:"Work Information"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(r.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Department"}),(0,t.jsx)("p",{className:"text-xs text-gray-900",children:Q.department.charAt(0).toUpperCase()+Q.department.slice(1)})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(n.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Role"}),(0,t.jsx)("p",{className:"text-xs text-gray-900",children:Q.roles&&Q.roles.length>0?Q.roles[0].name:"Employee"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(w.Zb,{className:"h-fit",children:[(0,t.jsx)(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 text-purple-500"}),(0,t.jsx)("span",{children:"Timeline"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[Q.hireDate&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(d.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Date Joined"}),(0,t.jsx)("p",{className:"text-xs text-gray-900",children:new Date(Q.hireDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),Q.lastLogin&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(d.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Last Login"}),(0,t.jsx)("p",{className:"text-xs text-gray-900",children:new Date(Q.lastLogin).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),(0,t.jsxs)(w.Zb,{className:"h-fit",children:[(0,t.jsx)(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4 text-orange-500"}),(0,t.jsx)("span",{children:"Additional Details"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(n.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Account Status"}),(0,t.jsx)(b.C,{variant:getStatusColor(Q.isActive||!1),className:"mt-1 text-xs",children:Q.isActive?"Active":"Inactive"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)(r.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"User Type"}),(0,t.jsx)("p",{className:"text-xs text-gray-900",children:Q.roles&&Q.roles.length>0?"Admin"===Q.roles[0].name?"Administrator":"Manager"===Q.roles[0].name?"Manager":"Employee":"Employee"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(w.Zb,{className:"h-fit",children:[(0,t.jsx)(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4 text-blue-500"}),(0,t.jsx)("span",{children:"Quick Actions"})]})}),(0,t.jsx)(w.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)(N.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2 justify-start h-8",children:[(0,t.jsx)(i.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Send Message"})]}),hasAdminPrivileges()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(N.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2 justify-start h-8",onClick:()=>{H(!1),handleEditUser(Q)},children:[(0,t.jsx)(x.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Edit Profile"})]}),(0,t.jsxs)(N.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2 justify-start h-8 text-red-600 hover:text-red-700",onClick:()=>{H(!1),handleDeleteUser(Q._id)},children:[(0,t.jsx)(m.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Delete User"})]})]})]})})]}),(0,t.jsxs)(w.Zb,{className:"h-fit",children:[(0,t.jsx)(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-indigo-500"}),(0,t.jsx)("span",{children:"User Summary"})]})}),(0,t.jsx)(w.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Department"}),(0,t.jsx)("span",{className:"text-xs text-gray-900",children:Q.department.charAt(0).toUpperCase()+Q.department.slice(1)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Role"}),(0,t.jsx)("span",{className:"text-xs text-gray-900",children:Q.roles&&Q.roles.length>0?Q.roles[0].name:"Employee"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Status"}),(0,t.jsx)(b.C,{variant:getStatusColor(Q.isActive||!1),className:"text-xs",children:Q.isActive?"Active":"Inactive"})]})]})})]})]})]})]}),(0,t.jsxs)(C.cN,{className:"flex justify-between pt-4",children:[(0,t.jsx)(N.z,{variant:"outline",onClick:()=>H(!1),children:"Close"}),hasAdminPrivileges()&&(0,t.jsxs)(N.z,{onClick:()=>{H(!1),Q&&handleEditUser(Q)},children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Edit User"]})]})]})}),el&&Q&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>er(!1),children:(0,t.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:()=>er(!1),className:"absolute top-4 right-4 z-10 bg-white/20 backdrop-blur-sm rounded-full p-2 hover:bg-white/30 transition-all duration-200 text-white hover:scale-110",children:(0,t.jsx)(v.Z,{className:"h-6 w-6"})}),(0,t.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:Q.avatar?(0,t.jsx)("img",{src:Q.avatar,alt:"".concat(Q.firstName," ").concat(Q.lastName),className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl animate-in zoom-in-95 duration-300",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"}}):(0,t.jsx)("div",{className:"w-96 h-96 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-2xl animate-in zoom-in-95 duration-300",children:(0,t.jsx)(r.Z,{className:"h-32 w-32 text-white"})})}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-sm rounded-lg p-4 shadow-lg animate-in slide-in-from-bottom-4 duration-300",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[Q.firstName," ",Q.lastName]}),(0,t.jsx)("p",{className:"text-gray-600",children:Q.position||"No position specified"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)(b.C,{variant:getStatusColor(Q.isActive||!1),children:Q.isActive?"Active":"Inactive"}),(0,t.jsx)(b.C,{variant:getRoleColor(Q.roles),children:Q.roles&&Q.roles.length>0?Q.roles[0].name:"Employee"})]})]})]})})]}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(r.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Please log in to access the Users module"})]})})}},3089:function(e,s,a){"use strict";a.d(s,{z:function(){return d}});var t=a(57437),l=a(2265),r=a(67256),i=a(96061),n=a(60345);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,s)=>{let{className:a,variant:l,size:i,asChild:d=!1,...o}=e,x=d?r.g7:"button";return(0,t.jsx)(x,{className:(0,n.cn)(c({variant:l,size:i,className:a})),ref:s,...o})});d.displayName="Button"},10609:function(e,s,a){"use strict";a.d(s,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var t=a(57437),l=a(2265),r=a(60345);let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});i.displayName="Card";let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...l})});n.displayName="CardHeader";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});c.displayName="CardTitle";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...l})});o.displayName="CardContent";let x=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...l})});x.displayName="CardFooter"},34490:function(e,s,a){"use strict";a.d(s,{a:function(){return useAuth}}),a(57437);var t=a(2265);a(24033),a(5925);var l=a(54829);let r=l.Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let s=localStorage.getItem("token");s?(console.log("Axios request - adding token to request"),e.headers.Authorization="Bearer ".concat(s)):console.log("Axios request - no token found")}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var s,a,t,l,r,i,n,c,d;if((null===(s=e.response)||void 0===s?void 0:s.status)===401){console.log("Axios interceptor - 401 error:",null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message);let s=(null===(i=e.response)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:null===(l=r.message)||void 0===l?void 0:l.toLowerCase())||"",o=(null===(d=e.response)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:null===(n=c.error)||void 0===n?void 0:n.toLowerCase())||"",x=s.includes("invalid token")||s.includes("token expired")||s.includes("unauthorized")||s.includes("not authorized")||o.includes("invalid token")||o.includes("token expired")||o.includes("unauthorized")||o.includes("not authorized");x?(console.log("Axios interceptor - logging out due to auth error"),localStorage.removeItem("token"),"/login"!==window.location.pathname&&(window.location.href="/login")):console.log("Axios interceptor - 401 error but not auth related, not logging out")}return Promise.reject(e)});let i=(0,t.createContext)(void 0),useAuth=()=>{let e=(0,t.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},60345:function(e,s,a){"use strict";a.d(s,{cn:function(){return cn}});var t=a(57042),l=a(23986);function cn(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.m)((0,t.W)(s))}},77951:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},17357:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]])},3719:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},58144:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},71840:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},47730:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]])},6773:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(17865);let l=(0,t.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[5881,4829,7588,1515,4061,6314,9448,2971,2472,1744],function(){return e(e.s=7489)}),_N_E=e.O()}]);