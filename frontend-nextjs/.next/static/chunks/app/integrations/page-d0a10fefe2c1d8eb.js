(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{17508:function(e,t,s){Promise.resolve().then(s.bind(s,90812))},90812:function(e,t,s){"use strict";s.r(t);var n=s(57437),a=s(2265),r=s(79915),o=s(88971),i=s(11666),l=s(21012),c=s(56788),d=s(73835),u=s(66794),m=s(28879),x=s(68247),h=s(62374),f=s(47730),g=s(65530),p=s(10609),j=s(3089),y=s(40150),v=s(86582),N=s(31472),w=s(6429),b=s(41735),S=s(34490),C=s(55555),I=s(62601);t.default=()=>{var e;let{logActivity:t}=(0,S.a)(),[s,D]=(0,a.useState)([]),[k,Z]=(0,a.useState)({totalIntegrations:0,connectedIntegrations:0,disconnectedIntegrations:0,pendingIntegrations:0,lastSyncCount:0,syncSuccessRate:0}),[_,z]=(0,a.useState)(!0),[A,P]=(0,a.useState)(""),[T,R]=(0,a.useState)("All"),[V,Y]=(0,a.useState)("All"),[F,L]=(0,a.useState)(null),[O,B]=(0,a.useState)(!1),[E,q]=(0,a.useState)(!1),[U,Q]=(0,a.useState)(!1),[$,H]=(0,a.useState)(!1),[K,M]=(0,a.useState)(!1),[W,X]=(0,a.useState)(!1),[G,J]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!1),[es,en]=(0,a.useState)(null),ea=C.Z.getCategories();(0,a.useEffect)(()=>{loadIntegrations(),loadIntegrationStats(),t("Integrations Visit","User accessed integrations management")},[t]);let loadIntegrations=async()=>{try{z(!0);let e=await C.Z.getIntegrations();if(e.success)D(e.data);else{let e=C.Z.getAvailableIntegrations(),t=e.map((e,t)=>t<3?{...e,status:"connected",lastSync:new Date(Date.now()-6048e5*Math.random()).toISOString(),data:{accessToken:"sample_token",userId:"sample_user",accountInfo:{name:"Sample ".concat(e.name," Account"),email:"sample@example.com"}}}:e);D(t)}}catch(e){console.error("Error loading integrations:",e),D(C.Z.getAvailableIntegrations())}finally{z(!1)}},loadIntegrationStats=async()=>{try{let e=await C.Z.getIntegrationStats();e.success?Z(e.data):Z(C.Z.getSampleIntegrationStats())}catch(e){console.error("Error loading integration stats:",e),Z(C.Z.getSampleIntegrationStats())}},handleConnect=async e=>{L(e),B(!0)},handleConnectConfirm=async()=>{if(F)try{if(X(!0),"youtube"===F._id){let e=new URL("https://accounts.google.com/o/oauth2/v2/auth");e.searchParams.append("client_id",I.env.NEXT_PUBLIC_YOUTUBE_CLIENT_ID||"demo-client-id"),e.searchParams.append("redirect_uri","".concat(window.location.origin,"/integrations/callback/youtube")),e.searchParams.append("response_type","code"),e.searchParams.append("scope","https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/youtube.force-ssl"),e.searchParams.append("access_type","offline"),e.searchParams.append("prompt","consent"),e.searchParams.append("state","youtube");let s=window.screenX+(window.outerWidth-500)/2,n=window.screenY+(window.outerHeight-600)/2,a=window.open(e.toString(),"youtube_oauth","width=".concat(500,",height=").concat(600,",left=").concat(s,",top=").concat(n));if(a){en(a);let e=setInterval(()=>{if(a.closed){clearInterval(e),en(null),X(!1),B(!1);let s=C.Z.getStoredTokens("youtube");(null==s?void 0:s.accessToken)?(D(e=>e.map(e=>e._id===F._id?{...e,status:"connected",lastSync:new Date().toISOString(),data:{accessToken:s.accessToken,refreshToken:s.refreshToken,userId:"youtube_user",accountInfo:{name:"YouTube Channel",email:"youtube@example.com",channelId:"youtube_channel"}}}:e)),loadIntegrationStats(),alert("YouTube integration connected successfully! You can now sync your YouTube data."),t("Integration Connected","Connected ".concat(F.name))):alert("YouTube connection was cancelled or failed. Please try again.")}},1e3)}else alert("Please allow pop-ups for this site to connect YouTube."),X(!1);return}let e=new URL(F.config.authUrl);e.searchParams.append("client_id",F.config.clientId),e.searchParams.append("redirect_uri",F.config.redirectUri),e.searchParams.append("response_type","code"),e.searchParams.append("scope",F.config.scopes.join(" ")),e.searchParams.append("state",F._id||"");let s=window.screenX+(window.outerWidth-500)/2,n=window.screenY+(window.outerHeight-600)/2,a=window.open(e.toString(),"oauth","width=".concat(500,",height=").concat(600,",left=").concat(s,",top=").concat(n));if(a){en(a);let e=setInterval(()=>{a.closed&&(clearInterval(e),en(null),X(!1),B(!1),loadIntegrations(),loadIntegrationStats())},1e3)}t("Integration Connect Attempt","Attempted to connect ".concat(F.name))}catch(e){console.error("Error connecting integration:",e),alert("Failed to connect integration. Please try again.")}finally{X(!1)}},handleDisconnect=async e=>{L(e),q(!0)},handleDisconnectConfirm=async()=>{if(F)try{J(!0);let e=await C.Z.disconnectIntegration(F._id||"");e.success?(D(e=>e.map(e=>e._id===F._id?{...e,status:"disconnected",lastSync:void 0,data:void 0}:e)),loadIntegrationStats(),t("Integration Disconnected","Disconnected ".concat(F.name))):alert(e.error||"Failed to disconnect integration")}catch(e){console.error("Error disconnecting integration:",e),alert("Failed to disconnect integration. Please try again.")}finally{J(!1),q(!1)}},handleSync=async e=>{L(e),Q(!0)},handleSyncConfirm=async()=>{if(F)try{if(et(!0),"connected"!==F.status){alert("Please connect the integration first before syncing."),Q(!1);return}let n=await C.Z.syncIntegration(F._id||"");if(n.success){D(e=>e.map(e=>e._id===F._id?{...e,lastSync:new Date().toISOString()}:e)),loadIntegrationStats(),t("Integration Synced","Synced ".concat(F.name));let a=0,r="Successfully synced ".concat(F.name,"!");if("data"in n&&n.data){if(a=n.data.itemsSynced||0,"youtube"===F._id&&n.data.youtubeData){var e,s;let t=n.data.youtubeData,o=(null===(e=t.videos)||void 0===e?void 0:e.length)||0,i=(null===(s=t.playlists)||void 0===s?void 0:s.length)||0,l=t.subscribers||0,c=t.totalViews||0;r="Successfully synced YouTube! \n            \n\uD83D\uDCCA Channel Statistics:\n• Subscribers: ".concat(l.toLocaleString(),"\n• Total Views: ").concat(c.toLocaleString(),"\n• Videos Synced: ").concat(o,"\n• Playlists Synced: ").concat(i,"\n\nTotal items synced: ").concat(a)}else r="slack"===F._id?"Successfully synced Slack! ".concat(a," messages, channels, and team data were synced."):"stripe"===F._id?"Successfully synced Stripe! ".concat(a," transactions, customers, and revenue data were synced."):"Successfully synced ".concat(F.name,"! ").concat(a," items were synced.")}alert(r)}else{let e="Failed to sync integration";"error"in n&&n.error&&(e=n.error),alert(e)}}catch(e){console.error("Error syncing integration:",e),alert("Failed to sync integration. Please try again.")}finally{et(!1),Q(!1)}},handleViewDetails=e=>{L(e),H(!0)},er=s.filter(e=>{let t=e.name.toLowerCase().includes(A.toLowerCase())||e.description.toLowerCase().includes(A.toLowerCase()),s="All"===T||e.category===T,n="All"===V||e.status===V;return t&&s&&n}),getStatusColor=e=>C.Z.getStatusColor(e),getStatusIcon=e=>C.Z.getStatusIcon(e),formatLastSync=e=>C.Z.formatLastSync(e),getCategoryIcon=e=>{switch(e){case"Social Media":return"\uD83D\uDCF1";case"Communication":return"\uD83D\uDCAC";case"Payments":return"\uD83D\uDCB3";case"Productivity":return"⚡";case"Development":return"\uD83D\uDC19";case"Analytics":return"\uD83D\uDCCA";case"Marketing":return"\uD83C\uDFAF";default:return"\uD83D\uDD17"}};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Integrations"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Connect and manage third-party services for seamless workflow automation"})]}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsxs)(j.z,{variant:"outline",onClick:()=>loadIntegrations(),children:[(0,n.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,n.jsxs)(p.Zb,{children:[(0,n.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(p.ll,{className:"text-sm font-medium",children:"Total Integrations"}),(0,n.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,n.jsxs)(p.aY,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:k.totalIntegrations}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Available integrations"})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(p.ll,{className:"text-sm font-medium",children:"Connected"}),(0,n.jsx)(i.Z,{className:"h-4 w-4 text-green-600"})]}),(0,n.jsxs)(p.aY,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:k.connectedIntegrations}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active connections"})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(p.ll,{className:"text-sm font-medium",children:"Disconnected"}),(0,n.jsx)(l.Z,{className:"h-4 w-4 text-red-600"})]}),(0,n.jsxs)(p.aY,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:k.disconnectedIntegrations}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Available to connect"})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(p.ll,{className:"text-sm font-medium",children:"Sync Success Rate"}),(0,n.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,n.jsxs)(p.aY,{children:[(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[k.syncSuccessRate,"%"]}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recent syncs successful"})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(v.I,{placeholder:"Search integrations...",value:A,onChange:e=>P(e.target.value),className:"pl-10"})]}),(0,n.jsxs)(b.Ph,{value:T,onValueChange:R,children:[(0,n.jsx)(b.i4,{className:"w-[180px]",children:(0,n.jsx)(b.ki,{placeholder:"Category"})}),(0,n.jsx)(b.Bw,{children:ea.map(e=>(0,n.jsx)(b.Ql,{value:e,children:e},e))})]}),(0,n.jsxs)(b.Ph,{value:V,onValueChange:Y,children:[(0,n.jsx)(b.i4,{className:"w-[180px]",children:(0,n.jsx)(b.ki,{placeholder:"Status"})}),(0,n.jsxs)(b.Bw,{children:[(0,n.jsx)(b.Ql,{value:"All",children:"All Status"}),(0,n.jsx)(b.Ql,{value:"connected",children:"Connected"}),(0,n.jsx)(b.Ql,{value:"disconnected",children:"Disconnected"}),(0,n.jsx)(b.Ql,{value:"pending",children:"Pending"}),(0,n.jsx)(b.Ql,{value:"error",children:"Error"})]})]})]}),_?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)(u.Z,{className:"h-8 w-8 animate-spin mx-auto"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading integrations..."})]}):(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:er.map(e=>(0,n.jsxs)(p.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,n.jsx)(p.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),(0,n.jsxs)("div",{children:[(0,n.jsx)(p.ll,{className:"text-lg",children:e.name}),(0,n.jsxs)(p.SZ,{className:"flex items-center space-x-1",children:[(0,n.jsx)("span",{children:getCategoryIcon(e.category)}),(0,n.jsx)("span",{children:e.category})]})]})]}),(0,n.jsxs)(y.C,{className:getStatusColor(e.status),children:[getStatusIcon(e.status)," ",e.status]})]})}),(0,n.jsxs)(p.aY,{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),e.lastSync&&(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-4",children:[(0,n.jsx)("span",{children:"Last synced"}),(0,n.jsx)("span",{children:formatLastSync(e.lastSync)})]}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:"connected"===e.status?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.z,{variant:"outline",size:"sm",onClick:()=>handleSync(e),className:"flex-1",children:[(0,n.jsx)(r.Z,{className:"h-4 w-4 mr-1"}),"Sync"]}),(0,n.jsx)(j.z,{variant:"outline",size:"sm",onClick:()=>handleViewDetails(e),children:(0,n.jsx)(m.Z,{className:"h-4 w-4"})}),(0,n.jsx)(j.z,{variant:"outline",size:"sm",onClick:()=>handleDisconnect(e),children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.z,{size:"sm",onClick:()=>handleConnect(e),className:"flex-1",children:[(0,n.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"Connect"]}),(0,n.jsx)(j.z,{variant:"outline",size:"sm",onClick:()=>handleViewDetails(e),children:(0,n.jsx)(m.Z,{className:"h-4 w-4"})})]})})]})]},e._id))}),0===er.length&&!_&&(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(h.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium",children:"No integrations found"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters to find what you're looking for."})]}),(0,n.jsx)(N.Vq,{open:O,onOpenChange:B,children:(0,n.jsxs)(N.cZ,{children:[(0,n.jsxs)(N.fK,{children:[(0,n.jsxs)(N.$N,{children:["Connect ",null==F?void 0:F.name]}),(0,n.jsxs)(N.Be,{children:["You will be redirected to ",null==F?void 0:F.name," to authorize the connection."]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-lg",children:[(0,n.jsx)(f.Z,{className:"h-5 w-5 text-blue-600"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Secure Connection"}),(0,n.jsx)("p",{className:"text-xs text-blue-700",children:"Your data is encrypted and secure. We only access the permissions you approve."})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(w._,{children:"Required Permissions:"}),(0,n.jsx)("div",{className:"space-y-1",children:null==F?void 0:F.config.scopes.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4 text-green-600"}),(0,n.jsx)("span",{children:e})]},t))})]})]}),(0,n.jsxs)(N.cN,{children:[(0,n.jsx)(j.z,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,n.jsx)(j.z,{onClick:handleConnectConfirm,disabled:W,children:W?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Connect to ",null==F?void 0:F.name]})})]})]})}),(0,n.jsx)(N.Vq,{open:E,onOpenChange:q,children:(0,n.jsxs)(N.cZ,{children:[(0,n.jsxs)(N.fK,{children:[(0,n.jsxs)(N.$N,{children:["Disconnect ",null==F?void 0:F.name]}),(0,n.jsxs)(N.Be,{children:["Are you sure you want to disconnect ",null==F?void 0:F.name,"? This will remove all synced data and stop future syncs."]})]}),(0,n.jsxs)(N.cN,{children:[(0,n.jsx)(j.z,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),(0,n.jsx)(j.z,{variant:"destructive",onClick:handleDisconnectConfirm,disabled:G,children:G?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Disconnecting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Disconnect"]})})]})]})}),(0,n.jsx)(N.Vq,{open:U,onOpenChange:Q,children:(0,n.jsxs)(N.cZ,{children:[(0,n.jsxs)(N.fK,{children:[(0,n.jsxs)(N.$N,{children:["Sync ",null==F?void 0:F.name]}),(0,n.jsxs)(N.Be,{children:["Sync the latest data from ",null==F?void 0:F.name,". This may take a few moments."]})]}),(0,n.jsxs)(N.cN,{children:[(0,n.jsx)(j.z,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),(0,n.jsx)(j.z,{onClick:handleSyncConfirm,disabled:ee,children:ee?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{className:"mr-2 h-4 w-4"}),"Sync Now"]})})]})]})}),(0,n.jsx)(N.Vq,{open:$,onOpenChange:H,children:(0,n.jsxs)(N.cZ,{className:"max-w-2xl",children:[(0,n.jsxs)(N.fK,{children:[(0,n.jsxs)(N.$N,{children:[null==F?void 0:F.name," Integration Details"]}),(0,n.jsxs)(N.Be,{children:["Detailed information about the ",null==F?void 0:F.name," integration"]})]}),F&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Status"}),(0,n.jsxs)(y.C,{className:getStatusColor(F.status),children:[getStatusIcon(F.status)," ",F.status]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Category"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[getCategoryIcon(F.category)," ",F.category]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Last Sync"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:formatLastSync(F.lastSync)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Connection Status"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"connected"===F.status?"Active":"Inactive"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Description"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:F.description})]}),(null===(e=F.data)||void 0===e?void 0:e.accountInfo)&&(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Connected Account"}),(0,n.jsxs)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("p",{className:"text-sm font-medium",children:F.data.accountInfo.name}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:F.data.accountInfo.email})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w._,{children:"Required Permissions"}),(0,n.jsx)("div",{className:"mt-1 space-y-1",children:F.config.scopes.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4 text-green-600"}),(0,n.jsx)("span",{children:e})]},t))})]})]})]})})]})}},40150:function(e,t,s){"use strict";s.d(t,{C:function(){return Badge}});var n=s(57437);s(2265);var a=s(96061),r=s(60345);let o=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:s,...a}=e;return(0,n.jsx)("div",{className:(0,r.cn)(o({variant:s}),t),...a})}},31472:function(e,t,s){"use strict";s.d(t,{$N:function(){return m},Be:function(){return x},Vq:function(){return l},cN:function(){return DialogFooter},cZ:function(){return u},fK:function(){return DialogHeader}});var n=s(57437),a=s(2265),r=s(28712),o=s(4862),i=s(60345);let l=r.fC;r.xz;let c=r.h_;r.x8;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});d.displayName=r.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(d,{}),(0,n.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[a,(0,n.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let DialogHeader=e=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};DialogHeader.displayName="DialogHeader";let DialogFooter=e=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};DialogFooter.displayName="DialogFooter";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});m.displayName=r.Dx.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});x.displayName=r.dk.displayName},86582:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var n=s(57437),a=s(2265),r=s(60345);let o=a.forwardRef((e,t)=>{let{className:s,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...o})});o.displayName="Input"},6429:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var n=s(57437),a=s(2265),r=s(36743),o=s(96061),i=s(60345);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.f,{ref:t,className:(0,i.cn)(l(),s),...a})});c.displayName=r.f.displayName},41735:function(e,t,s){"use strict";s.d(t,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return p},i4:function(){return m},ki:function(){return u}});var n=s(57437),a=s(2265),r=s(41798),o=s(74457),i=s(87661),l=s(23408),c=s(60345);let d=r.fC;r.ZA;let u=r.B4,m=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,n.jsxs)(r.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[a,(0,n.jsx)(r.JO,{asChild:!0,children:(0,n.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.xz.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=r.u_.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})});h.displayName=r.$G.displayName;let f=a.forwardRef((e,t)=>{let{className:s,children:a,position:o="popper",...i}=e;return(0,n.jsx)(r.h_,{children:(0,n.jsxs)(r.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:o,...i,children:[(0,n.jsx)(x,{}),(0,n.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,n.jsx)(h,{})]})})});f.displayName=r.VY.displayName;let g=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})});g.displayName=r.__.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,n.jsxs)(r.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...o,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(r.wU,{children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(r.eT,{children:a})]})});p.displayName=r.ck.displayName;let j=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...a})});j.displayName=r.Z0.displayName},34490:function(e,t,s){"use strict";s.d(t,{a:function(){return useAuth}}),s(57437);var n=s(2265);s(24033),s(5925);var a=s(54829);let r=a.Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t?(console.log("Axios request - adding token to request"),e.headers.Authorization="Bearer ".concat(t)):console.log("Axios request - no token found")}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t,s,n,a,r,o,i,l,c;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){console.log("Axios interceptor - 401 error:",null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message);let t=(null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:null===(a=r.message)||void 0===a?void 0:a.toLowerCase())||"",d=(null===(c=e.response)||void 0===c?void 0:null===(l=c.data)||void 0===l?void 0:null===(i=l.error)||void 0===i?void 0:i.toLowerCase())||"",u=t.includes("invalid token")||t.includes("token expired")||t.includes("unauthorized")||t.includes("not authorized")||d.includes("invalid token")||d.includes("token expired")||d.includes("unauthorized")||d.includes("not authorized");u?(console.log("Axios interceptor - logging out due to auth error"),localStorage.removeItem("token"),"/login"!==window.location.pathname&&(window.location.href="/login")):console.log("Axios interceptor - 401 error but not auth related, not logging out")}return Promise.reject(e)});let o=(0,n.createContext)(void 0),useAuth=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[5881,4829,7588,1515,4061,29,1324,2971,2472,1744],function(){return e(e.s=17508)}),_N_E=e.O()}]);