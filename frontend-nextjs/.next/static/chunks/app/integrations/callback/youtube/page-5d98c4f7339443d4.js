(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1735],{55180:function(e,t,n){Promise.resolve().then(n.bind(n,68200))},68200:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return YouTubeCallbackPage},dynamic:function(){return m}});var r=n(57437),s=n(2265),c=n(24033),a=n(10609),o=n(3089),i=n(66794),u=n(11666),l=n(21012),d=n(55555);let m="force-dynamic";function YouTubeCallbackPage(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),[n,m]=(0,s.useState)("loading"),[h,x]=(0,s.useState)("");return(0,s.useEffect)(()=>{let handleCallback=async()=>{try{let n=t.get("code");t.get("state");let r=t.get("error");if(r){m("error"),x("Authorization was denied or an error occurred.");return}if(!n){m("error"),x("No authorization code received.");return}let s=await d.Z.exchangeCodeForTokens(n,"youtube");s.success?(m("success"),x("YouTube integration connected successfully!"),setTimeout(()=>{window.opener?window.close():e.push("/integrations")},2e3)):(m("error"),x(s.error||"Failed to connect YouTube integration."))}catch(e){console.error("Error handling YouTube callback:",e),m("error"),x("An unexpected error occurred.")}};handleCallback()},[t,e]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)(a.Zb,{className:"w-full max-w-md",children:[(0,r.jsx)(a.Ol,{className:"text-center",children:(0,r.jsxs)(a.ll,{className:"flex items-center justify-center space-x-2",children:["loading"===n&&(0,r.jsx)(i.Z,{className:"h-6 w-6 animate-spin"}),"success"===n&&(0,r.jsx)(u.Z,{className:"h-6 w-6 text-green-600"}),"error"===n&&(0,r.jsx)(l.Z,{className:"h-6 w-6 text-red-600"}),(0,r.jsx)("span",{children:"YouTube Integration"})]})}),(0,r.jsxs)(a.aY,{className:"text-center space-y-4",children:["loading"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Connecting your YouTube account..."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Please wait while we complete the authentication process."})]}),"success"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-600 font-medium",children:h}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"You can now sync your YouTube data and manage your channel from the integrations page."})]}),"error"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-600 font-medium",children:h}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Please try connecting again from the integrations page."})]}),(0,r.jsx)(o.z,{onClick:()=>{window.opener?window.close():e.push("/integrations")},className:"w-full",children:"success"===n?"Continue to Integrations":"Try Again"})]})]})})}},24033:function(e,t,n){e.exports=n(50094)},11666:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(17865);let s=(0,r.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},66794:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(17865);let s=(0,r.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},21012:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(17865);let s=(0,r.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}},function(e){e.O(0,[5881,4829,1324,2971,2472,1744],function(){return e(e.s=55180)}),_N_E=e.O()}]);