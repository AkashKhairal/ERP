"use strict";exports.id=8549,exports.ids=[8549],exports.modules={78549:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(21145);let n=a.Z.create({baseURL:"http://localhost:5000/api/integrations",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>e,e=>Promise.reject(e));let r={async getIntegrations(){try{let e=await n.get("/");return{success:!0,data:e.data}}catch(e){return console.error("Error fetching integrations:",e),{success:!1,error:e.response?.data?.message||"Failed to fetch integrations"}}},async getIntegrationById(e){try{let t=await n.get(`/${e}`);return{success:!0,data:t.data}}catch(e){return console.error("Error fetching integration:",e),{success:!1,error:e.response?.data?.message||"Failed to fetch integration"}}},async connectIntegration(e,t){try{let o=await n.post(`/${e}/connect`,{authCode:t});return{success:!0,data:o.data}}catch(e){return console.error("Error connecting integration:",e),{success:!1,error:e.response?.data?.message||"Failed to connect integration"}}},async disconnectIntegration(e){try{let t=await n.post(`/${e}/disconnect`);return{success:!0,data:t.data}}catch(e){return console.error("Error disconnecting integration:",e),{success:!1,error:e.response?.data?.message||"Failed to disconnect integration"}}},async syncIntegration(e){try{let t=this.getAvailableIntegrations(),o=t.find(t=>t._id===e);if(!o)return{success:!1,error:"Integration not found"};if("youtube"===e)return await this.syncYouTubeData();let a={success:!0,data:{syncedAt:new Date().toISOString(),itemsSynced:Math.floor(100*Math.random())+10,status:"completed"}};return await new Promise(e=>setTimeout(e,1e3)),a}catch(e){return console.error("Error syncing integration:",e),{success:!1,error:e.response?.data?.message||"Failed to sync integration"}}},async syncYouTubeData(){try{let e=this.getStoredTokens("youtube");if(!e?.accessToken)return{success:!1,error:"YouTube not connected. Please connect your YouTube account first."};let t={},o=0,n=await a.Z.get("https://www.googleapis.com/youtube/v3/channels",{params:{part:"snippet,statistics",mine:!0,key:process.env.NEXT_PUBLIC_YOUTUBE_API_KEY||"demo-key",access_token:e.accessToken}});if(n.data?.items?.[0]){let e=n.data.items[0];t.channels=[e],t.subscribers=parseInt(e.statistics?.subscriberCount||"0"),t.totalViews=parseInt(e.statistics?.viewCount||"0"),o+=1}let r=await a.Z.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",forMine:!0,type:"video",maxResults:50,order:"date",key:process.env.NEXT_PUBLIC_YOUTUBE_API_KEY||"demo-key",access_token:e.accessToken}});r.data?.items&&(t.videos=r.data.items,t.totalVideos=r.data.pageInfo?.totalResults||0,o+=r.data.items.length);let s=await a.Z.get("https://www.googleapis.com/youtube/v3/playlists",{params:{part:"snippet",mine:!0,maxResults:50,key:process.env.NEXT_PUBLIC_YOUTUBE_API_KEY||"demo-key",access_token:e.accessToken}});return s.data?.items&&(t.playlists=s.data.items,o+=s.data.items.length),this.storeTokens("youtube",{...e,syncedData:t,lastSync:new Date().toISOString()}),{success:!0,data:{syncedAt:new Date().toISOString(),itemsSynced:o,status:"completed",youtubeData:t}}}catch(e){return console.error("Error syncing YouTube data:",e),{success:!1,error:e.response?.data?.error?.message||"Failed to sync YouTube data. Please check your connection and try again."}}},async getIntegrationStats(){try{let e=await n.get("/stats");return{success:!0,data:e.data}}catch(e){return console.error("Error fetching integration stats:",e),{success:!1,error:e.response?.data?.message||"Failed to fetch integration stats"}}},async getAuthUrl(e){try{let t=await n.get(`/${e}/auth-url`);return{success:!0,data:t.data}}catch(e){return console.error("Error getting auth URL:",e),{success:!1,error:e.response?.data?.message||"Failed to get auth URL"}}},async updateIntegrationSettings(e,t){try{let o=await n.put(`/${e}/settings`,t);return{success:!0,data:o.data}}catch(e){return console.error("Error updating integration settings:",e),{success:!1,error:e.response?.data?.message||"Failed to update integration settings"}}},getAvailableIntegrations:()=>[{_id:"youtube",name:"YouTube",description:"Connect your YouTube channel for analytics, content management, and video insights",status:"disconnected",icon:"\uD83C\uDFA5",category:"Social Media",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_YOUTUBE_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/youtube",scopes:["https://www.googleapis.com/auth/youtube.readonly","https://www.googleapis.com/auth/youtube.force-ssl"],authUrl:"https://accounts.google.com/o/oauth2/v2/auth",tokenUrl:"https://oauth2.googleapis.com/token"}},{_id:"slack",name:"Slack",description:"Integrate with Slack for team communication, notifications, and channel management",status:"disconnected",icon:"\uD83D\uDCAC",category:"Communication",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_SLACK_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/slack",scopes:["channels:read","chat:write","users:read"],authUrl:"https://slack.com/oauth/v2/authorize",tokenUrl:"https://slack.com/api/oauth.v2.access"}},{_id:"stripe",name:"Stripe",description:"Connect Stripe for payment processing, revenue tracking, and financial analytics",status:"disconnected",icon:"\uD83D\uDCB3",category:"Payments",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_STRIPE_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/stripe",scopes:["read_write"],authUrl:"https://connect.stripe.com/oauth/authorize",tokenUrl:"https://connect.stripe.com/oauth/token"}},{_id:"notion",name:"Notion",description:"Sync with Notion for project documentation, collaboration, and knowledge management",status:"disconnected",icon:"\uD83D\uDCDD",category:"Productivity",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_NOTION_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/notion",scopes:["read","write"],authUrl:"https://api.notion.com/v1/oauth/authorize",tokenUrl:"https://api.notion.com/v1/oauth/token"}},{_id:"google-calendar",name:"Google Calendar",description:"Sync calendar events, schedule management, and meeting coordination",status:"disconnected",icon:"\uD83D\uDCC5",category:"Productivity",isActive:!0,config:{clientId:"852792982943-iadr4llqoiigtpkqc2blcfq25q00plv6.apps.googleusercontent.com",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/google-calendar",scopes:["https://www.googleapis.com/auth/calendar.readonly","https://www.googleapis.com/auth/calendar.events"],authUrl:"https://accounts.google.com/o/oauth2/v2/auth",tokenUrl:"https://oauth2.googleapis.com/token"}},{_id:"github",name:"GitHub",description:"Connect GitHub for code repository management, issues, and development workflow",status:"disconnected",icon:"\uD83D\uDC19",category:"Development",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_GITHUB_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/github",scopes:["repo","user","read:org"],authUrl:"https://github.com/login/oauth/authorize",tokenUrl:"https://github.com/login/oauth/access_token"}},{_id:"discord",name:"Discord",description:"Integrate with Discord for community management and bot interactions",status:"disconnected",icon:"\uD83C\uDFAE",category:"Communication",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_DISCORD_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/discord",scopes:["identify","guilds","bot"],authUrl:"https://discord.com/api/oauth2/authorize",tokenUrl:"https://discord.com/api/oauth2/token"}},{_id:"trello",name:"Trello",description:"Sync with Trello for project management and task tracking",status:"disconnected",icon:"\uD83D\uDCCB",category:"Productivity",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_TRELLO_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/trello",scopes:["read","write"],authUrl:"https://trello.com/1/authorize",tokenUrl:"https://trello.com/1/token"}},{_id:"zapier",name:"Zapier",description:"Connect Zapier for workflow automation and app integrations",status:"disconnected",icon:"⚡",category:"Productivity",isActive:!0,config:{clientId:process.env.NEXT_PUBLIC_ZAPIER_CLIENT_ID||"demo-client-id",clientSecret:"",redirectUri:"http://localhost:3000/app/integrations/callback/zapier",scopes:["read","write"],authUrl:"https://zapier.com/apps/authorize",tokenUrl:"https://zapier.com/api/v2/token"}}],getSampleIntegrationStats:()=>({totalIntegrations:9,connectedIntegrations:3,disconnectedIntegrations:6,pendingIntegrations:0,lastSyncCount:3,syncSuccessRate:85}),getCategories:()=>["All","Social Media","Communication","Payments","Productivity","Development","Analytics","Marketing"],getStatusColor(e){switch(e){case"connected":return"bg-green-100 text-green-800";case"disconnected":case"error":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},getStatusIcon(e){switch(e){case"connected":return"✅";case"disconnected":return"❌";case"pending":return"⏳";case"error":return"⚠️";default:return"❓"}},formatLastSync(e){if(!e)return"Never";let t=new Date(e),o=new Date,a=Math.floor((o.getTime()-t.getTime())/36e5);return a<1?"Just now":a<24?`${a} hours ago`:a<168?`${Math.floor(a/24)} days ago`:t.toLocaleDateString()},isIntegrationConnected:e=>"connected"===e.status&&!!e.data?.accessToken,getStoredTokens:e=>null,storeTokens(e,t){},clearTokens(e){},async exchangeCodeForTokens(e,t){try{let o=this.getAvailableIntegrations().find(e=>e._id===t);if(!o)throw Error("Integration not found");if("youtube"===t){let n=await a.Z.post("https://oauth2.googleapis.com/token",new URLSearchParams({client_id:o.config.clientId,client_secret:o.config.clientSecret||"",code:e,grant_type:"authorization_code",redirect_uri:o.config.redirectUri}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(n.data?.access_token){let e={accessToken:n.data.access_token,refreshToken:n.data.refresh_token,expiresAt:new Date(Date.now()+1e3*n.data.expires_in).toISOString(),tokenType:n.data.token_type};return this.storeTokens(t,e),{success:!0,data:e}}throw Error("Failed to get access token from YouTube")}let n=await a.Z.post(o.config.tokenUrl,{client_id:o.config.clientId,client_secret:o.config.clientSecret,code:e,grant_type:"authorization_code",redirect_uri:o.config.redirectUri},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(n.data?.access_token){let e={accessToken:n.data.access_token,refreshToken:n.data.refresh_token,expiresAt:new Date(Date.now()+1e3*n.data.expires_in).toISOString(),tokenType:n.data.token_type};return this.storeTokens(t,e),{success:!0,data:e}}throw Error("Failed to get access token")}catch(t){console.error("Error exchanging code for tokens:",t);let e="Failed to exchange authorization code";return t.response?.data?.error?e=`${t.response.data.error}: ${t.response.data.error_description||""}`:t.message&&(e=t.message),{success:!1,error:e}}}}}};