(()=>{var e={};e.id=6240,e.ids=[6240],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},44671:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d});var t=a(67096),l=a(16132),r=a(37284),i=a.n(r),n=a(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,16625)),"D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,51069)),"D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],x=["D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\users\\page.tsx"],m="/users/page",o={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64805:(e,s,a)=>{Promise.resolve().then(a.bind(a,99193))},99193:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=a(30784),l=a(9885),r=a(99452),i=a(5805),n=a(90065),c=a(93341),d=a(78205),x=a(15276),m=a(87065),o=a(43128),h=a(8965),j=a(29769),p=a(17856),u=a(83238),g=a(57034),N=a(85928),f=a(95833),v=a(45304),y=a(57505),w=a(97040),b=a(17133),C=a(3508),A=a(37565),P=a(7950),S=a(30323),Z=a(24846);let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e,isAuthenticated:s}=(0,Z.a)(),[a,_]=(0,l.useState)([]),[U,k]=(0,l.useState)(!0),[E,D]=(0,l.useState)(""),[z,F]=(0,l.useState)("all"),[q,L]=(0,l.useState)("all"),[R,I]=(0,l.useState)("all"),[Y,O]=(0,l.useState)(!1),[M,V]=(0,l.useState)(null),[Q,W]=(0,l.useState)(!1),[B,T]=(0,l.useState)(!1),[G,K]=(0,l.useState)(!1),[$,J]=(0,l.useState)({}),[X,H]=(0,l.useState)(null),[ee,es]=(0,l.useState)("cards"),[ea,et]=(0,l.useState)(!1),hasAdminPrivileges=()=>!!e&&!!e.roles&&e.roles.some(e=>"Admin"===e.name||"admin"===e.name);(0,l.useEffect)(()=>{s?loadUsers():(k(!1),H("Please log in to access this page"))},[s]);let loadUsers=async()=>{k(!0),H(null);try{let e=await S.W.getUsers();e.success&&e.data.length>0?_(e.data):hasAdminPrivileges()?await insertSampleUsers():_([])}catch(e){console.error("Error loading users:",e),H("Failed to load users. Please try again."),_(S.W.getSampleUsers())}finally{k(!1)}},insertSampleUsers=async()=>{let e=S.W.getSampleUsers(),s=[];for(let a of e)try{let e=await S.W.createUser({...a,password:"Password123!"});e.success&&s.push(e.data)}catch(e){console.error("Error inserting sample user:",e)}s.length>0?_(s):_(e)},el=a.filter(e=>{let s=""===E||e.firstName.toLowerCase().includes(E.toLowerCase())||e.lastName.toLowerCase().includes(E.toLowerCase())||e.email.toLowerCase().includes(E.toLowerCase())||e.position?.toLowerCase().includes(E.toLowerCase()),a="all"===z||e.department===z,t="all"===q||("active"===q?e.isActive:!e.isActive),l="all"===R||e.roles?.some(e=>e.name.toLowerCase()===R.toLowerCase());return s&&a&&t&&l}),handleEditUser=e=>{if(!hasAdminPrivileges()){H("You need admin privileges to edit users");return}V(e),J({firstName:e.firstName,lastName:e.lastName,email:e.email,department:e.department,position:e.position,phone:e.phone,isActive:e.isActive}),W(!0)},handleViewUser=e=>{V(e),T(!0)},handleDeleteUser=async e=>{if(!hasAdminPrivileges()){H("You need admin privileges to delete users");return}if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{let s=await S.W.deleteUser(e);s.success?_(a.filter(s=>s._id!==e)):H("Failed to delete user: "+s.message)}catch(e){console.error("Error deleting user:",e),H("Failed to delete user")}},handleSaveUser=async()=>{if(!hasAdminPrivileges()){H("You need admin privileges to save users");return}if(!$.firstName||!$.lastName||!$.email||!$.department){H("Please fill in all required fields");return}K(!0),H(null);try{if(M){let e=await S.W.updateUser(M._id,$);e.success?(_(a.map(s=>s._id===M._id?{...s,...e.data}:s)),W(!1),V(null)):H("Failed to update user: "+e.message)}else{let e=await S.W.createUser({...$,password:"Password123!"});e.success?(_([...a,e.data]),W(!1)):H("Failed to create user: "+e.message)}}catch(e){console.error("Error saving user:",e),H("Failed to save user")}finally{K(!1)}},getStatusColor=e=>e?"default":"destructive",getRoleColor=e=>{if(!e||0===e.length)return"secondary";let s=e[0].name.toLowerCase();switch(s){case"admin":return"destructive";case"manager":return"default";default:return"secondary"}},er=["engineering","content","marketing","finance","hr","operations"],handleFormChange=(e,s)=>{J(a=>({...a,[e]:s}))},renderUserCard=e=>(0,t.jsxs)(w.Zb,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(w.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center",children:e.avatar?t.jsx("img",{src:e.avatar,alt:"",className:"w-12 h-12 rounded-full"}):t.jsx(r.Z,{className:"h-6 w-6 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(w.ll,{className:"text-lg",children:[e.firstName," ",e.lastName]}),t.jsx(w.SZ,{className:"mt-1",children:e.position||"No position specified"})]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx(b.C,{variant:getStatusColor(e.isActive||!1),children:e.isActive?"Active":"Inactive"})})]})}),(0,t.jsxs)(w.aY,{children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(i.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium",children:"Email"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(n.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium",children:"Role"})]}),t.jsx(b.C,{variant:getRoleColor(e.roles),children:e.roles&&e.roles.length>0?e.roles[0].name:"Employee"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(r.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium",children:"Department"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:e.department.charAt(0).toUpperCase()+e.department.slice(1)})]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium",children:"Phone"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:e.phone})]}),e.hireDate&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(d.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium",children:"Joined"})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.hireDate).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>handleViewUser(e),children:[t.jsx(x.Z,{className:"h-4 w-4 mr-1"}),"View"]}),hasAdminPrivileges()&&(0,t.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>handleEditUser(e),children:[t.jsx(m.Z,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),hasAdminPrivileges()&&t.jsx(v.z,{variant:"outline",size:"sm",onClick:()=>handleDeleteUser(e._id),children:t.jsx(o.Z,{className:"h-4 w-4"})})]})]})]},e._id);return s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Users"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your team members and their permissions"})]}),hasAdminPrivileges()&&(0,t.jsxs)(v.z,{onClick:()=>{if(!hasAdminPrivileges()){H("You need admin privileges to create users");return}V(null),J({}),W(!0)},children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),X&&t.jsx(w.Zb,{className:"border-red-200 bg-red-50",children:(0,t.jsxs)(w.aY,{className:"p-4",children:[t.jsx("p",{className:"text-red-600",children:X}),t.jsx(v.z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>H(null),children:"Dismiss"})]})}),t.jsx(w.Zb,{children:(0,t.jsxs)(w.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[t.jsx("div",{className:"flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(j.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(y.I,{placeholder:"Search users...",value:E,onChange:e=>{D(e.target.value)},className:"pl-10"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(v.z,{variant:"outline",onClick:()=>O(!Y),children:[t.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Filters"]}),t.jsx("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("button",{onClick:()=>es("list"===ee?"cards":"list"),className:"flex items-center space-x-2 hover:bg-gray-100 p-2 rounded-md transition-colors",children:["list"===ee?t.jsx(u.Z,{className:"h-4 w-4"}):t.jsx(g.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"list"===ee?"List":"Cards"})]})})]})]}),Y&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"department-filter",children:"Department"}),(0,t.jsxs)(P.Ph,{value:z,onValueChange:F,children:[t.jsx(P.i4,{children:t.jsx(P.ki,{placeholder:"All Departments"})}),(0,t.jsxs)(P.Bw,{children:[t.jsx(P.Ql,{value:"all",children:"All Departments"}),er.map(e=>t.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"role-filter",children:"Role"}),(0,t.jsxs)(P.Ph,{value:R,onValueChange:I,children:[t.jsx(P.i4,{children:t.jsx(P.ki,{placeholder:"All Roles"})}),(0,t.jsxs)(P.Bw,{children:[t.jsx(P.Ql,{value:"all",children:"All Roles"}),["Admin","Manager","Employee","Intern"].map(e=>t.jsx(P.Ql,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"status-filter",children:"Status"}),(0,t.jsxs)(P.Ph,{value:q,onValueChange:L,children:[t.jsx(P.i4,{children:t.jsx(P.ki,{placeholder:"All Statuses"})}),(0,t.jsxs)(P.Bw,{children:[t.jsx(P.Ql,{value:"all",children:"All Statuses"}),["active","inactive"].map(e=>t.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]})]})]})}),(0,t.jsxs)(w.Zb,{children:[t.jsx(w.Ol,{children:(0,t.jsxs)(w.ll,{children:["Team Members (",el.length,")"]})}),t.jsx(w.aY,{children:U?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(N.Z,{className:"h-8 w-8 animate-spin mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):"list"===ee?(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Role"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Department"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:el.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:e.avatar?t.jsx("img",{src:e.avatar,alt:"",className:"w-8 h-8 rounded-full"}):t.jsx(r.Z,{className:"h-4 w-4 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),e.position&&t.jsx("div",{className:"text-sm text-gray-500",children:e.position})]})]})}),t.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.email}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(b.C,{variant:getRoleColor(e.roles),children:e.roles&&e.roles.length>0?e.roles[0].name:"Employee"})}),t.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.department.charAt(0).toUpperCase()+e.department.slice(1)}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(b.C,{variant:getStatusColor(e.isActive||!1),children:e.isActive?"Active":"Inactive"})}),t.jsx("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(v.z,{variant:"ghost",size:"sm",onClick:()=>handleViewUser(e),children:t.jsx(x.Z,{className:"h-4 w-4"})}),hasAdminPrivileges()&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(v.z,{variant:"ghost",size:"sm",onClick:()=>handleEditUser(e),children:t.jsx(m.Z,{className:"h-4 w-4"})}),t.jsx(v.z,{variant:"ghost",size:"sm",onClick:()=>handleDeleteUser(e._id),children:t.jsx(o.Z,{className:"h-4 w-4"})})]})]})})]},e._id))})]}),0===el.length&&!U&&(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(r.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No users found"})]})]}):t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:el.map(e=>renderUserCard(e))})})]}),t.jsx(C.Vq,{open:Q,onOpenChange:W,children:(0,t.jsxs)(C.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(C.fK,{children:[t.jsx(C.$N,{children:M?"Edit User":"Add New User"}),t.jsx(C.Be,{children:M?"Update user information":"Create a new user account"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"firstName",children:"First Name *"}),t.jsx(y.I,{id:"firstName",value:$.firstName||"",onChange:e=>handleFormChange("firstName",e.target.value),placeholder:"John"})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"lastName",children:"Last Name *"}),t.jsx(y.I,{id:"lastName",value:$.lastName||"",onChange:e=>handleFormChange("lastName",e.target.value),placeholder:"Doe"})]})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"email",children:"Email *"}),t.jsx(y.I,{id:"email",type:"email",value:$.email||"",onChange:e=>handleFormChange("email",e.target.value),placeholder:"john.doe@company.com"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"department",children:"Department *"}),(0,t.jsxs)(P.Ph,{value:$.department||"",onValueChange:e=>handleFormChange("department",e),children:[t.jsx(P.i4,{children:t.jsx(P.ki,{placeholder:"Select department"})}),t.jsx(P.Bw,{children:er.map(e=>t.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(P.Ph,{value:$.isActive?.toString()||"true",onValueChange:e=>handleFormChange("isActive","true"===e),children:[t.jsx(P.i4,{children:t.jsx(P.ki,{placeholder:"Select status"})}),(0,t.jsxs)(P.Bw,{children:[t.jsx(P.Ql,{value:"true",children:"Active"}),t.jsx(P.Ql,{value:"false",children:"Inactive"})]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"position",children:"Position"}),t.jsx(y.I,{id:"position",value:$.position||"",onChange:e=>handleFormChange("position",e.target.value),placeholder:"Software Engineer"})]}),(0,t.jsxs)("div",{children:[t.jsx(A._,{htmlFor:"phone",children:"Phone"}),t.jsx(y.I,{id:"phone",value:$.phone||"",onChange:e=>handleFormChange("phone",e.target.value),placeholder:"+1 (555) 123-4567"})]})]}),(0,t.jsxs)(C.cN,{children:[t.jsx(v.z,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),t.jsx(v.z,{onClick:handleSaveUser,disabled:G,children:G?(0,t.jsxs)(t.Fragment,{children:[t.jsx(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save User"})]})]})}),t.jsx(C.Vq,{open:B,onOpenChange:T,children:(0,t.jsxs)(C.cZ,{className:"sm:max-w-[1200px] max-h-[85vh] overflow-hidden",children:[(0,t.jsxs)(C.fK,{className:"pb-4",children:[t.jsx(C.$N,{className:"text-xl font-bold",children:"User Profile"}),(0,t.jsxs)(C.Be,{children:["Detailed information about ",M?.firstName," ",M?.lastName]})]}),M&&(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border mb-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>et(!0),children:M.avatar?t.jsx("img",{src:M.avatar,alt:"",className:"w-16 h-16 rounded-full object-cover hover:opacity-90 transition-opacity"}):t.jsx(r.Z,{className:"h-8 w-8 text-white"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[M.firstName," ",M.lastName]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.position||"No position specified"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(b.C,{variant:getStatusColor(M.isActive||!1),className:"text-xs",children:M.isActive?"Active":"Inactive"}),t.jsx(b.C,{variant:getRoleColor(M.roles),className:"text-xs",children:M.roles&&M.roles.length>0?M.roles[0].name:"Employee"})]})]}),t.jsx("div",{className:"mt-2 md:mt-0",children:(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Employee ID"}),t.jsx("p",{className:"font-mono text-xs text-gray-700",children:M._id?.slice(-8)||"N/A"})]})})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(w.Zb,{className:"h-fit",children:[t.jsx(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[t.jsx(i.Z,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{children:"Contact Information"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(i.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Email Address"}),t.jsx("p",{className:"text-xs text-gray-900 truncate",children:M.email})]})]}),M.phone&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(c.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Phone Number"}),t.jsx("p",{className:"text-xs text-gray-900",children:M.phone})]})]})]})]}),(0,t.jsxs)(w.Zb,{className:"h-fit",children:[t.jsx(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[t.jsx(n.Z,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Work Information"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(r.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Department"}),t.jsx("p",{className:"text-xs text-gray-900",children:M.department.charAt(0).toUpperCase()+M.department.slice(1)})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(n.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Role"}),t.jsx("p",{className:"text-xs text-gray-900",children:M.roles&&M.roles.length>0?M.roles[0].name:"Employee"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(w.Zb,{className:"h-fit",children:[t.jsx(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[t.jsx(d.Z,{className:"h-4 w-4 text-purple-500"}),t.jsx("span",{children:"Timeline"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[M.hireDate&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(d.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Date Joined"}),t.jsx("p",{className:"text-xs text-gray-900",children:new Date(M.hireDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),M.lastLogin&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(d.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Last Login"}),t.jsx("p",{className:"text-xs text-gray-900",children:new Date(M.lastLogin).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),(0,t.jsxs)(w.Zb,{className:"h-fit",children:[t.jsx(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[t.jsx(r.Z,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{children:"Additional Details"})]})}),(0,t.jsxs)(w.aY,{className:"space-y-3 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(n.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Account Status"}),t.jsx(b.C,{variant:getStatusColor(M.isActive||!1),className:"mt-1 text-xs",children:M.isActive?"Active":"Inactive"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg",children:[t.jsx(r.Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500",children:"User Type"}),t.jsx("p",{className:"text-xs text-gray-900",children:M.roles&&M.roles.length>0?"Admin"===M.roles[0].name?"Administrator":"Manager"===M.roles[0].name?"Manager":"Employee":"Employee"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(w.Zb,{className:"h-fit",children:[t.jsx(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[t.jsx(r.Z,{className:"h-4 w-4 text-blue-500"}),t.jsx("span",{children:"Quick Actions"})]})}),t.jsx(w.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)(v.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2 justify-start h-8",children:[t.jsx(i.Z,{className:"h-3 w-3"}),t.jsx("span",{className:"text-xs",children:"Send Message"})]}),hasAdminPrivileges()&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(v.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2 justify-start h-8",onClick:()=>{T(!1),handleEditUser(M)},children:[t.jsx(m.Z,{className:"h-3 w-3"}),t.jsx("span",{className:"text-xs",children:"Edit Profile"})]}),(0,t.jsxs)(v.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2 justify-start h-8 text-red-600 hover:text-red-700",onClick:()=>{T(!1),handleDeleteUser(M._id)},children:[t.jsx(o.Z,{className:"h-3 w-3"}),t.jsx("span",{className:"text-xs",children:"Delete User"})]})]})]})})]}),(0,t.jsxs)(w.Zb,{className:"h-fit",children:[t.jsx(w.Ol,{className:"pb-3",children:(0,t.jsxs)(w.ll,{className:"flex items-center space-x-2 text-sm",children:[t.jsx(n.Z,{className:"h-4 w-4 text-indigo-500"}),t.jsx("span",{children:"User Summary"})]})}),t.jsx(w.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Department"}),t.jsx("span",{className:"text-xs text-gray-900",children:M.department.charAt(0).toUpperCase()+M.department.slice(1)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Role"}),t.jsx("span",{className:"text-xs text-gray-900",children:M.roles&&M.roles.length>0?M.roles[0].name:"Employee"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Status"}),t.jsx(b.C,{variant:getStatusColor(M.isActive||!1),className:"text-xs",children:M.isActive?"Active":"Inactive"})]})]})})]})]})]})]}),(0,t.jsxs)(C.cN,{className:"flex justify-between pt-4",children:[t.jsx(v.z,{variant:"outline",onClick:()=>T(!1),children:"Close"}),hasAdminPrivileges()&&(0,t.jsxs)(v.z,{onClick:()=>{T(!1),M&&handleEditUser(M)},children:[t.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Edit User"]})]})]})}),ea&&M&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>et(!1),children:(0,t.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[t.jsx("button",{onClick:()=>et(!1),className:"absolute top-4 right-4 z-10 bg-white/20 backdrop-blur-sm rounded-full p-2 hover:bg-white/30 transition-all duration-200 text-white hover:scale-110",children:t.jsx(f.Z,{className:"h-6 w-6"})}),t.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:M.avatar?t.jsx("img",{src:M.avatar,alt:`${M.firstName} ${M.lastName}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl animate-in zoom-in-95 duration-300",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"}}):t.jsx("div",{className:"w-96 h-96 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-2xl animate-in zoom-in-95 duration-300",children:t.jsx(r.Z,{className:"h-32 w-32 text-white"})})}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-sm rounded-lg p-4 shadow-lg animate-in slide-in-from-bottom-4 duration-300",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[M.firstName," ",M.lastName]}),t.jsx("p",{className:"text-gray-600",children:M.position||"No position specified"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx(b.C,{variant:getStatusColor(M.isActive||!1),children:M.isActive?"Active":"Inactive"}),t.jsx(b.C,{variant:getRoleColor(M.roles),children:M.roles&&M.roles.length>0?M.roles[0].name:"Employee"})]})]})]})})]}):t.jsx("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(r.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Please log in to access the Users module"})]})})}},16625:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>UsersPage,dynamic:()=>d});var t=a(4656),l=a(95153);let r=(0,l.createProxy)(String.raw`D:\SAAS\ERP\ERP\frontend-nextjs\src\components\pages\Users.tsx`),{__esModule:i,$$typeof:n}=r,c=r.default,d="force-dynamic";function UsersPage(){return t.jsx(c,{})}},5805:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(8025);let l=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},93341:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(8025);let l=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[2343,6578,9702,6776,274,6642,8176,5372,7608,7040,7133,7950,1932,323],()=>__webpack_exec__(44671));module.exports=a})();