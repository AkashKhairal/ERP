(()=>{var e={};e.id=3626,e.ids=[3626],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},73249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=s(67096),a=s(16132),i=s(37284),l=s.n(i),n=s(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["projects",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13810)),"D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\projects\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2813)),"D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\projects\\[id]\\page.tsx"],x="/projects/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/[id]/page",pathname:"/projects/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45497:(e,t,s)=>{Promise.resolve().then(s.bind(s,36642))},36642:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(30784),a=s(9885),i=s(57114),l=s(85928),n=s(61147),c=s(87065),d=s(43128),o=s(95105),x=s(3285),u=s(88533),m=s(73916),j=s(8965),p=s(45304),h=s(97040),g=s(17133),f=s(86847),v=s(3508),b=s(37565),y=s(57505),N=s(57550),D=s(7950),P=s(24846),_=s(77732);let __WEBPACK_DEFAULT_EXPORT__=({projectId:e})=>{var t;let s=(0,i.useRouter)(),{logActivity:w}=(0,P.useAuth)(),[C,E]=(0,a.useState)(null),[S,A]=(0,a.useState)(!0),[Z,k]=(0,a.useState)(!1),[q,F]=(0,a.useState)(!1),[M,R]=(0,a.useState)(!1),[B,O]=(0,a.useState)({user:"",role:""}),[U,z]=(0,a.useState)({name:"",description:"",status:"planning",priority:"medium",type:"internal",startDate:"",endDate:"",budget:0,client:"",projectManager:"",team:[],progress:0}),T=_.Z.getAvailableTypes(),I=_.Z.getAvailableStatuses(),$=_.Z.getAvailablePriorities(),V=_.Z.getAvailableRoles();(0,a.useEffect)(()=>{loadProject(),w("Project Details Visit",`User accessed project details: ${e}`)},[e,w]);let loadProject=async()=>{try{A(!0);let t=await _.Z.getProjectById(e);if(t.success)E(t.data),z({name:t.data.name,description:t.data.description,status:t.data.status,priority:t.data.priority,type:t.data.type,startDate:t.data.startDate,endDate:t.data.endDate,budget:t.data.budget,client:t.data.client,projectManager:t.data.projectManager||"",team:t.data.team,progress:t.data.progress});else{let t=_.Z.getSampleProjects(),r=t.find(t=>t._id===e);r?(E(r),z({name:r.name,description:r.description,status:r.status,priority:r.priority,type:r.type,startDate:r.startDate,endDate:r.endDate,budget:r.budget,client:r.client,projectManager:r.projectManager||"",team:r.teamMembers||r.team||[],progress:r.progress})):s.push("/projects")}}catch(e){console.error("Error loading project:",e),s.push("/projects")}finally{A(!1)}},handleUpdateProject=async()=>{if(C?._id)try{A(!0);let e=await _.Z.updateProject(C._id,U);e.success?(k(!1),loadProject(),w("Project Updated",`Updated project: ${U.name}`)):alert(e.error||"Failed to update project")}catch(e){console.error("Error updating project:",e),alert("Error updating project")}finally{A(!1)}},handleDeleteProject=async()=>{if(C?._id)try{A(!0);let e=await _.Z.deleteProject(C._id);e.success?(F(!1),w("Project Deleted",`Deleted project: ${C.name}`),s.push("/projects")):alert(e.error||"Failed to delete project")}catch(e){console.error("Error deleting project:",e),alert("Error deleting project")}finally{A(!1)}},handleRemoveMember=e=>{z(t=>({...t,team:t.team.filter((t,s)=>s!==e)}))},isOverdue=e=>new Date(e)<new Date;return S?r.jsx("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(l.Z,{className:"h-8 w-8 animate-spin mx-auto"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading project details..."})]})}):C?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(p.z,{variant:"outline",onClick:()=>s.push("/projects"),children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:C.name}),r.jsx("p",{className:"text-muted-foreground",children:C.client})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(p.z,{variant:"outline",onClick:()=>k(!0),children:[r.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,r.jsxs)(p.z,{variant:"outline",onClick:()=>F(!0),children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(h.ll,{className:"text-sm font-medium",children:"Status"}),r.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(h.aY,{children:r.jsx(g.C,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"planning":return"bg-yellow-100 text-yellow-800";case"on_hold":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(C.status),children:C.status.replace("_"," ")})})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(h.ll,{className:"text-sm font-medium",children:"Priority"}),r.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(h.aY,{children:r.jsx(g.C,{className:(e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(C.priority),children:C.priority})})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(h.ll,{className:"text-sm font-medium",children:"Progress"}),r.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(h.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[C.progress,"%"]}),r.jsx(f.E,{value:C.progress,className:"mt-2"})]})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(h.ll,{className:"text-sm font-medium",children:"Budget"}),r.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(h.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:(t=C.budget,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))})})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(h.Zb,{children:[r.jsx(h.Ol,{children:r.jsx(h.ll,{children:"Project Information"})}),(0,r.jsxs)(h.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{children:"Description"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.description})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{children:"Type"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(e=>{switch(e){case"youtube":return"\uD83D\uDCFA";case"saas":return"\uD83D\uDCBB";case"freelance":return"\uD83D\uDCBC";case"internal":return"\uD83C\uDFE2";default:return"\uD83D\uDCC1"}})(C.type)," ",C.type.charAt(0).toUpperCase()+C.type.slice(1)]})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{children:"Project Manager"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.projectManager||"Not assigned"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{children:"Start Date"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date(C.startDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{children:"End Date"}),(0,r.jsxs)("p",{className:`text-sm mt-1 ${isOverdue(C.endDate)?"text-red-600":"text-muted-foreground"}`,children:[new Date(C.endDate).toLocaleDateString(),isOverdue(C.endDate)&&" (Overdue)"]})]})]})]})]}),(0,r.jsxs)(h.Zb,{children:[r.jsx(h.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(h.ll,{children:["Team Members (",(C.teamMembers||C.team||[]).length,")"]}),(0,r.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>R(!0),children:[r.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Add Member"]})]})}),r.jsx(h.aY,{children:0===(C.teamMembers||C.team||[]).length?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No team members assigned"}):r.jsx("div",{className:"space-y-2",children:(C.teamMembers||C.team||[]).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.user}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.role})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(g.C,{variant:"outline",children:["Joined ",new Date(e.joinedDate).toLocaleDateString()]}),r.jsx(p.z,{variant:"outline",size:"sm",onClick:()=>handleRemoveMember(t),children:r.jsx(d.Z,{className:"h-4 w-4"})})]})]},t))})})]})]}),r.jsx(v.Vq,{open:Z,onOpenChange:k,children:(0,r.jsxs)(v.cZ,{className:"max-w-2xl",children:[(0,r.jsxs)(v.fK,{children:[(0,r.jsxs)(v.$N,{children:["Edit Project: ",C.name]}),r.jsx(v.Be,{children:"Update project information and settings"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-name",children:"Project Name"}),r.jsx(y.I,{id:"edit-name",value:U.name,onChange:e=>z(t=>({...t,name:e.target.value})),placeholder:"Enter project name"})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-client",children:"Client"}),r.jsx(y.I,{id:"edit-client",value:U.client,onChange:e=>z(t=>({...t,client:e.target.value})),placeholder:"Enter client name"})]})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-description",children:"Description"}),r.jsx(N.g,{id:"edit-description",value:U.description,onChange:e=>z(t=>({...t,description:e.target.value})),placeholder:"Enter project description",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-type",children:"Project Type"}),(0,r.jsxs)(D.Ph,{value:U.type,onValueChange:e=>z(t=>({...t,type:e})),children:[r.jsx(D.i4,{children:r.jsx(D.ki,{placeholder:"Select type"})}),r.jsx(D.Bw,{children:T.map(e=>r.jsx(D.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-status",children:"Status"}),(0,r.jsxs)(D.Ph,{value:U.status,onValueChange:e=>z(t=>({...t,status:e})),children:[r.jsx(D.i4,{children:r.jsx(D.ki,{placeholder:"Select status"})}),r.jsx(D.Bw,{children:I.map(e=>r.jsx(D.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))})]})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-priority",children:"Priority"}),(0,r.jsxs)(D.Ph,{value:U.priority,onValueChange:e=>z(t=>({...t,priority:e})),children:[r.jsx(D.i4,{children:r.jsx(D.ki,{placeholder:"Select priority"})}),r.jsx(D.Bw,{children:$.map(e=>r.jsx(D.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-startDate",children:"Start Date"}),r.jsx(y.I,{id:"edit-startDate",type:"date",value:U.startDate,onChange:e=>z(t=>({...t,startDate:e.target.value}))})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-endDate",children:"End Date"}),r.jsx(y.I,{id:"edit-endDate",type:"date",value:U.endDate,onChange:e=>z(t=>({...t,endDate:e.target.value}))})]})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-budget",children:"Budget"}),r.jsx(y.I,{id:"edit-budget",type:"number",value:U.budget,onChange:e=>z(t=>({...t,budget:parseFloat(e.target.value)||0})),placeholder:"Enter budget amount"})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"edit-progress",children:"Progress (%)"}),r.jsx(y.I,{id:"edit-progress",type:"number",min:"0",max:"100",value:U.progress,onChange:e=>z(t=>({...t,progress:parseInt(e.target.value)||0})),placeholder:"Enter progress percentage"})]})]}),(0,r.jsxs)(v.cN,{children:[r.jsx(p.z,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),r.jsx(p.z,{onClick:handleUpdateProject,disabled:S,children:S?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Project"})]})]})}),r.jsx(v.Vq,{open:q,onOpenChange:F,children:(0,r.jsxs)(v.cZ,{children:[(0,r.jsxs)(v.fK,{children:[r.jsx(v.$N,{children:"Delete Project"}),(0,r.jsxs)(v.Be,{children:['Are you sure you want to delete "',C.name,'"? This action cannot be undone.']})]}),(0,r.jsxs)(v.cN,{children:[r.jsx(p.z,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),r.jsx(p.z,{variant:"destructive",onClick:handleDeleteProject,disabled:S,children:S?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Project"})]})]})}),r.jsx(v.Vq,{open:M,onOpenChange:R,children:(0,r.jsxs)(v.cZ,{children:[(0,r.jsxs)(v.fK,{children:[r.jsx(v.$N,{children:"Add Team Member"}),r.jsx(v.Be,{children:"Add a new member to the project team"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"member-user",children:"User Name"}),r.jsx(y.I,{id:"member-user",value:B.user,onChange:e=>O(t=>({...t,user:e.target.value})),placeholder:"Enter user name"})]}),(0,r.jsxs)("div",{children:[r.jsx(b._,{htmlFor:"member-role",children:"Role"}),(0,r.jsxs)(D.Ph,{value:B.role,onValueChange:e=>O(t=>({...t,role:e})),children:[r.jsx(D.i4,{children:r.jsx(D.ki,{placeholder:"Select role"})}),r.jsx(D.Bw,{children:V.map(e=>r.jsx(D.Ql,{value:e,children:e},e))})]})]})]}),(0,r.jsxs)(v.cN,{children:[r.jsx(p.z,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),r.jsx(p.z,{onClick:()=>{if(B.user&&B.role){let e={user:B.user,role:B.role,joinedDate:new Date().toISOString().split("T")[0],isActive:!0};z(t=>({...t,team:[...t.team,e]})),O({user:"",role:""}),R(!1)}},children:"Add Member"})]})]})})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Project not found"}),r.jsx("p",{className:"text-muted-foreground",children:"The project you're looking for doesn't exist."}),(0,r.jsxs)(p.z,{onClick:()=>s.push("/projects"),className:"mt-4",children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})]})}},86847:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var r=s(30784),a=s(9885),i=s(81915),l=s(80467);let n=a.forwardRef(({className:e,value:t,...s},a)=>r.jsx(i.fC,{ref:a,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(i.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));n.displayName=i.fC.displayName},57550:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var r=s(30784),a=s(9885),i=s(80467);let l=a.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));l.displayName="Textarea"},13810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ProjectDetailsPage});var r=s(4656),a=s(95153);let i=(0,a.createProxy)(String.raw`D:\SAAS\ERP\ERP\frontend-nextjs\src\components\pages\Projects\ProjectDetails.tsx`),{__esModule:l,$$typeof:n}=i,c=i.default;function ProjectDetailsPage({params:e}){return r.jsx(c,{projectId:e.id})}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[3175,6578,9702,6776,274,6642,5444,2892,7639,7040,7950,1932,7732],()=>__webpack_exec__(73249));module.exports=s})();