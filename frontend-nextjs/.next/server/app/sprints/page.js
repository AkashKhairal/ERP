(()=>{var e={};e.id=6999,e.ids=[6999],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},61129:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d});var r=t(67096),a=t(16132),n=t(37284),i=t.n(n),l=t(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["sprints",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,46724)),"D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\sprints\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,51069)),"D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\SAAS\\ERP\\ERP\\frontend-nextjs\\src\\app\\sprints\\page.tsx"],m="/sprints/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/sprints/page",pathname:"/sprints",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65563:(e,s,t)=>{Promise.resolve().then(t.bind(t,3146))},3146:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Sprints_SprintPlanning});var r=t(30784),a=t(9885),n=t(78205),i=t(95105),l=t(88533),c=t(60877),d=t(8965),o=t(52750),m=t(95833),p=t(85928),u=t(15276),x=t(87065),h=t(43128),j=t(29769),g=t(97040),y=t(45304),v=t(17133),S=t(57505),f=t(63342),b=t(3508),N=t(37565),w=t(57550),P=t(7950),k=t(45907),D=t(24846),C=t(21145);let _=C.Z.create({baseURL:"http://localhost:5000/api/sprints",headers:{"Content-Type":"application/json"}});_.interceptors.request.use(e=>e,e=>Promise.reject(e));let A={async getSprints(e={}){try{let s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{t&&s.append(e,t)});let t=await _.get(`?${s.toString()}`);return{success:!0,data:t.data}}catch(e){return console.error("Error fetching sprints:",e),{success:!1,error:e.response?.data?.message||"Failed to fetch sprints"}}},async getSprintById(e){try{let s=await _.get(`/${e}`);return{success:!0,data:s.data}}catch(e){return console.error("Error fetching sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to fetch sprint"}}},async createSprint(e){try{let s=await _.post("/",e);return{success:!0,data:s.data}}catch(e){return console.error("Error creating sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to create sprint"}}},async updateSprint(e,s){try{let t=await _.put(`/${e}`,s);return{success:!0,data:t.data}}catch(e){return console.error("Error updating sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to update sprint"}}},async deleteSprint(e){try{let s=await _.delete(`/${e}`);return{success:!0,data:s.data}}catch(e){return console.error("Error deleting sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to delete sprint"}}},async getSprintStats(){try{let e=await _.get("/stats");return{success:!0,data:e.data}}catch(e){return console.error("Error fetching sprint stats:",e),{success:!1,error:e.response?.data?.message||"Failed to fetch sprint stats"}}},async addTaskToSprint(e,s){try{let t=await _.post(`/${e}/tasks`,s);return{success:!0,data:t.data}}catch(e){return console.error("Error adding task to sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to add task to sprint"}}},async updateTaskInSprint(e,s,t){try{let r=await _.put(`/${e}/tasks/${s}`,t);return{success:!0,data:r.data}}catch(e){return console.error("Error updating task in sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to update task in sprint"}}},async removeTaskFromSprint(e,s){try{let t=await _.delete(`/${e}/tasks/${s}`);return{success:!0,data:t.data}}catch(e){return console.error("Error removing task from sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to remove task from sprint"}}},async addMemberToSprint(e,s){try{let t=await _.post(`/${e}/members`,s);return{success:!0,data:t.data}}catch(e){return console.error("Error adding member to sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to add member to sprint"}}},async updateMemberInSprint(e,s,t){try{let r=await _.put(`/${e}/members/${s}`,t);return{success:!0,data:r.data}}catch(e){return console.error("Error updating member in sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to update member in sprint"}}},async removeMemberFromSprint(e,s){try{let t=await _.delete(`/${e}/members/${s}`);return{success:!0,data:t.data}}catch(e){return console.error("Error removing member from sprint:",e),{success:!1,error:e.response?.data?.message||"Failed to remove member from sprint"}}},getAvailableStatuses:()=>["planning","active","completed","cancelled"],getAvailableTaskStatuses:()=>["todo","in_progress","done","blocked"],getAvailableTaskPriorities:()=>["low","medium","high","urgent"],getAvailableRoles:()=>["Developer","Designer","QA Engineer","Product Manager","Scrum Master","Team Lead"],getSampleSprints:()=>[{_id:"1",name:"Sprint 1 - Foundation",description:"Core foundation and setup tasks",startDate:"2024-01-01",endDate:"2024-01-14",status:"completed",team:[{user:"John Doe",role:"Developer",capacity:40,isActive:!0},{user:"Sarah Wilson",role:"Designer",capacity:40,isActive:!0},{user:"Mike Johnson",role:"QA Engineer",capacity:40,isActive:!0}],tasks:[{_id:"task1",title:"Setup Development Environment",description:"Configure development environment and tools",status:"done",priority:"high",storyPoints:5,assignee:"John Doe",estimatedHours:8,actualHours:6},{_id:"task2",title:"Design System Setup",description:"Create and implement design system",status:"done",priority:"high",storyPoints:8,assignee:"Sarah Wilson",estimatedHours:16,actualHours:14}],totalStoryPoints:45,completedStoryPoints:45,velocity:45,burndownData:[{day:1,remaining:45},{day:2,remaining:40},{day:3,remaining:35},{day:4,remaining:30},{day:5,remaining:25},{day:6,remaining:20},{day:7,remaining:15},{day:8,remaining:10},{day:9,remaining:5},{day:10,remaining:0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{_id:"2",name:"Sprint 2 - Features",description:"Core feature development",startDate:"2024-01-15",endDate:"2024-01-28",status:"active",team:[{user:"John Doe",role:"Developer",capacity:40,isActive:!0},{user:"Sarah Wilson",role:"Designer",capacity:40,isActive:!0},{user:"Mike Johnson",role:"QA Engineer",capacity:40,isActive:!0},{user:"Emily Chen",role:"Product Manager",capacity:40,isActive:!0}],tasks:[{_id:"task3",title:"User Authentication",description:"Implement user authentication system",status:"done",priority:"high",storyPoints:13,assignee:"John Doe",estimatedHours:20,actualHours:18},{_id:"task4",title:"Dashboard Design",description:"Design and implement dashboard",status:"in_progress",priority:"medium",storyPoints:8,assignee:"Sarah Wilson",estimatedHours:16,actualHours:8}],totalStoryPoints:60,completedStoryPoints:32,velocity:32,burndownData:[{day:1,remaining:60},{day:2,remaining:55},{day:3,remaining:50},{day:4,remaining:45},{day:5,remaining:40},{day:6,remaining:35},{day:7,remaining:32}],createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{_id:"3",name:"Sprint 3 - Polish",description:"Final polish and optimization",startDate:"2024-01-29",endDate:"2024-02-11",status:"planning",team:[{user:"John Doe",role:"Developer",capacity:40,isActive:!0},{user:"Sarah Wilson",role:"Designer",capacity:40,isActive:!0},{user:"Mike Johnson",role:"QA Engineer",capacity:40,isActive:!0}],tasks:[],totalStoryPoints:35,completedStoryPoints:0,velocity:0,burndownData:[],createdAt:"2024-01-29T00:00:00Z",updatedAt:"2024-01-29T00:00:00Z"}],getSampleSprintStats:()=>({totalSprints:3,activeSprints:1,completedSprints:1,averageVelocity:38.5,totalStoryPoints:140,completedStoryPoints:77,sprintCompletionRate:55})},Sprints_SprintPlanning=()=>{let{logActivity:e}=(0,D.a)(),[s,t]=(0,a.useState)("overview"),[C,_]=(0,a.useState)([]),[E,Z]=(0,a.useState)({totalSprints:0,activeSprints:0,completedSprints:0,averageVelocity:0,totalStoryPoints:0,completedStoryPoints:0,sprintCompletionRate:0}),[F,T]=(0,a.useState)(!0),[q,$]=(0,a.useState)(""),[z,V]=(0,a.useState)("all"),[M,R]=(0,a.useState)(null),[I,O]=(0,a.useState)(!1),[U,B]=(0,a.useState)(!1),[H,Q]=(0,a.useState)(!1),[Y,J]=(0,a.useState)(!1),[L,K]=(0,a.useState)(!1),[W,G]=(0,a.useState)(!1),[X,ee]=(0,a.useState)({name:"",description:"",startDate:"",endDate:"",status:"planning",team:[],tasks:[]}),[es,et]=(0,a.useState)({title:"",description:"",status:"todo",priority:"medium",storyPoints:0,assignee:"",estimatedHours:0}),[er,ea]=(0,a.useState)({user:"",role:"",capacity:40}),en=A.getAvailableStatuses(),ei=A.getAvailableTaskStatuses(),el=A.getAvailableTaskPriorities(),ec=A.getAvailableRoles();(0,a.useEffect)(()=>{loadSprints(),loadSprintStats(),e("Sprint Planning Visit","User accessed sprint planning")},[e]);let loadSprints=async()=>{try{T(!0);let e=await A.getSprints({search:q,status:"all"!==z?z:void 0});e.success?_(e.data):_(A.getSampleSprints())}catch(e){console.error("Error loading sprints:",e),_(A.getSampleSprints())}finally{T(!1)}},loadSprintStats=async()=>{try{let e=await A.getSprintStats();e.success?Z(e.data):Z(A.getSampleSprintStats())}catch(e){console.error("Error loading sprint stats:",e),Z(A.getSampleSprintStats())}},handleCreateSprint=async()=>{if(!X.name||!X.description||!X.startDate||!X.endDate){alert("Please fill in all required fields");return}try{T(!0);let s=X.tasks.reduce((e,s)=>e+(s.storyPoints||0),0),t=X.tasks.reduce((e,s)=>e+("done"===s.status&&s.storyPoints||0),0),r={name:X.name,description:X.description,startDate:X.startDate,endDate:X.endDate,status:X.status,team:X.team,tasks:X.tasks,totalStoryPoints:s,completedStoryPoints:t,velocity:t,burndownData:[]},a=await A.createSprint(r);a.success?(O(!1),resetSprintForm(),loadSprints(),loadSprintStats(),e("Sprint Created",`Created sprint: ${X.name}`)):alert(a.error||"Failed to create sprint")}catch(e){console.error("Error creating sprint:",e),alert("Error creating sprint")}finally{T(!1)}},handleUpdateSprint=async()=>{if(M?._id)try{T(!0);let s=X.tasks.reduce((e,s)=>e+(s.storyPoints||0),0),t=X.tasks.reduce((e,s)=>e+("done"===s.status&&s.storyPoints||0),0),r={name:X.name,description:X.description,startDate:X.startDate,endDate:X.endDate,status:X.status,team:X.team,tasks:X.tasks,totalStoryPoints:s,completedStoryPoints:t,velocity:t,burndownData:M.burndownData||[]},a=await A.updateSprint(M._id,r);a.success?(B(!1),resetSprintForm(),loadSprints(),loadSprintStats(),e("Sprint Updated",`Updated sprint: ${X.name}`)):alert(a.error||"Failed to update sprint")}catch(e){console.error("Error updating sprint:",e),alert("Error updating sprint")}finally{T(!1)}},handleDeleteSprint=async()=>{if(M?._id)try{T(!0);let s=await A.deleteSprint(M._id);s.success?(J(!1),R(null),loadSprints(),loadSprintStats(),e("Sprint Deleted",`Deleted sprint: ${M.name}`)):alert(s.error||"Failed to delete sprint")}catch(e){console.error("Error deleting sprint:",e),alert("Error deleting sprint")}finally{T(!1)}},handleEditSprint=e=>{R(e),ee({name:e.name,description:e.description,startDate:e.startDate,endDate:e.endDate,status:e.status,team:e.team,tasks:e.tasks}),B(!0)},handleViewSprint=e=>{R(e),Q(!0)},handleRemoveMember=e=>{ee(s=>({...s,team:s.team.filter((s,t)=>t!==e)}))},resetSprintForm=()=>{ee({name:"",description:"",startDate:"",endDate:"",status:"planning",team:[],tasks:[]}),R(null)},ed=C.filter(e=>{let s=e.name.toLowerCase().includes(q.toLowerCase())||e.description.toLowerCase().includes(q.toLowerCase()),t="all"===z||e.status===z;return s&&t}),getStatusColor=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"planning":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getTaskStatusColor=e=>{switch(e){case"done":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"todo":return"bg-yellow-100 text-yellow-800";case"blocked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getTaskPriorityColor=e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},getProgressPercentage=(e,s)=>s>0?e/s*100:0,formatBurndownData=e=>e.map(e=>({name:`Day ${e.day}`,value:e.remaining})),renderOverviewTab=()=>{let e=C.find(e=>"active"===e.status);return C.filter(e=>"completed"===e.status),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(g.ll,{className:"text-sm font-medium",children:"Total Sprints"}),r.jsx(n.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(g.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:E.totalSprints}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"All sprints"})]})]}),(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(g.ll,{className:"text-sm font-medium",children:"Active Sprint"}),r.jsx(i.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(g.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:E.activeSprints}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(g.ll,{className:"text-sm font-medium",children:"Completed"}),r.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(g.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:E.completedSprints}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully delivered"})]})]}),(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(g.ll,{className:"text-sm font-medium",children:"Avg Velocity"}),r.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(g.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:Math.round(E.averageVelocity)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Story points per sprint"})]})]})]}),e&&(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{children:[(0,r.jsxs)(g.ll,{children:["Current Sprint: ",e.name]}),(0,r.jsxs)(g.SZ,{children:[e.startDate," - ",e.endDate]})]}),r.jsx(g.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Progress"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[e.completedStoryPoints,"/",e.totalStoryPoints," story points"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${getProgressPercentage(e.completedStoryPoints,e.totalStoryPoints)}%`}})}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{children:["Tasks: ",e.tasks.filter(e=>"done"===e.status).length,"/",e.tasks.length]}),(0,r.jsxs)("span",{children:["Velocity: ",e.velocity]})]})]})})]}),e&&e.burndownData.length>0&&(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{children:[r.jsx(g.ll,{children:"Sprint Burndown"}),r.jsx(g.SZ,{children:"Story points remaining over time"})]}),r.jsx(g.aY,{children:r.jsx(k.Dw,{data:formatBurndownData(e.burndownData),height:300,dataKey:"value"})})]})]})},renderSprintsTab=()=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium",children:"All Sprints"}),(0,r.jsxs)(b.Vq,{open:I,onOpenChange:O,children:[(0,r.jsxs)(y.z,{onClick:()=>O(!0),children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Create Sprint"]}),(0,r.jsxs)(b.cZ,{className:"max-w-2xl",children:[(0,r.jsxs)(b.fK,{children:[r.jsx(b.$N,{children:"Create New Sprint"}),r.jsx(b.Be,{children:"Create a new sprint with team and tasks"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"name",children:"Sprint Name *"}),r.jsx(S.I,{id:"name",value:X.name,onChange:e=>ee(s=>({...s,name:e.target.value})),placeholder:"Enter sprint name"})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"status",children:"Status"}),(0,r.jsxs)(P.Ph,{value:X.status,onValueChange:e=>ee(s=>({...s,status:e})),children:[r.jsx(P.i4,{children:r.jsx(P.ki,{placeholder:"Select status"})}),r.jsx(P.Bw,{children:en.map(e=>r.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"description",children:"Description"}),r.jsx(w.g,{id:"description",value:X.description,onChange:e=>ee(s=>({...s,description:e.target.value})),placeholder:"Enter sprint description",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"startDate",children:"Start Date *"}),r.jsx(S.I,{id:"startDate",type:"date",value:X.startDate,onChange:e=>ee(s=>({...s,startDate:e.target.value}))})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"endDate",children:"End Date *"}),r.jsx(S.I,{id:"endDate",type:"date",value:X.endDate,onChange:e=>ee(s=>({...s,endDate:e.target.value}))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(N._,{children:"Team Members"}),(0,r.jsxs)(y.z,{type:"button",variant:"outline",size:"sm",onClick:()=>G(!0),children:[r.jsx(o.Z,{className:"h-4 w-4 mr-1"}),"Add Member"]})]}),0===X.team.length?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No team members added yet."}):r.jsx("div",{className:"space-y-2",children:X.team.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.user}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.role," (",e.capacity,"h)"]})]}),r.jsx(y.z,{type:"button",variant:"outline",size:"sm",onClick:()=>handleRemoveMember(s),children:r.jsx(m.Z,{className:"h-4 w-4"})})]},s))})]})]}),(0,r.jsxs)(b.cN,{children:[r.jsx(y.z,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),r.jsx(y.z,{onClick:handleCreateSprint,disabled:F,children:F?(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Sprint"})]})]})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ed.map(e=>(0,r.jsxs)(g.Zb,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(g.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx(g.ll,{className:"text-lg",children:e.name}),(0,r.jsxs)(g.SZ,{children:[e.startDate," - ",e.endDate]})]}),r.jsx(v.C,{className:getStatusColor(e.status),children:e.status})]})}),r.jsx(g.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Team Size"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.team.length," members"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Story Points"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.completedStoryPoints,"/",e.totalStoryPoints]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${getProgressPercentage(e.completedStoryPoints,e.totalStoryPoints)}%`}})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Tasks"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.tasks.filter(e=>"done"===e.status).length,"/",e.tasks.length]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Velocity"}),r.jsx("span",{className:"font-medium",children:e.velocity})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,r.jsxs)(y.z,{variant:"outline",size:"sm",onClick:()=>handleViewSprint(e),className:"flex-1",children:[r.jsx(u.Z,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsx(y.z,{variant:"outline",size:"sm",onClick:()=>handleEditSprint(e),children:r.jsx(x.Z,{className:"h-4 w-4"})}),r.jsx(y.z,{variant:"outline",size:"sm",onClick:()=>{R(e),J(!0)},children:r.jsx(h.Z,{className:"h-4 w-4"})})]})]})})]},e._id))})]}),renderPlanningTab=()=>(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Sprint Planning"}),r.jsx(g.Zb,{children:r.jsx(g.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center text-muted-foreground",children:[r.jsx(i.Z,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"Sprint planning tools coming soon..."})]})})})]}),renderAnalyticsTab=()=>(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Sprint Analytics"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(g.Zb,{children:[r.jsx(g.Ol,{children:r.jsx(g.ll,{children:"Velocity Trend"})}),r.jsx(g.aY,{children:r.jsx(k.uQ,{data:C.map(e=>({name:e.name.slice(0,10)+"...",value:e.velocity})),height:200})})]}),(0,r.jsxs)(g.Zb,{children:[r.jsx(g.Ol,{children:r.jsx(g.ll,{children:"Sprint Completion Rate"})}),r.jsx(g.aY,{children:r.jsx("div",{className:"space-y-2",children:C.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:e.name}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[getProgressPercentage(e.completedStoryPoints,e.totalStoryPoints).toFixed(0),"%"]})]},e._id))})})]})]})]});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Sprint Planning"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and track your development sprints"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(y.z,{variant:"outline",children:[r.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Reports"]})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(j.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(S.I,{placeholder:"Search sprints...",value:q,onChange:e=>$(e.target.value),className:"pl-10"})]}),(0,r.jsxs)(P.Ph,{value:z,onValueChange:V,children:[r.jsx(P.i4,{className:"w-[180px]",children:r.jsx(P.ki,{placeholder:"Status"})}),(0,r.jsxs)(P.Bw,{children:[r.jsx(P.Ql,{value:"all",children:"All Status"}),en.map(e=>r.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,r.jsxs)(f.mQ,{value:s,onValueChange:t,className:"space-y-4",children:[(0,r.jsxs)(f.dr,{children:[(0,r.jsxs)(f.SP,{value:"overview",className:"flex items-center space-x-2",children:[r.jsx(c.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Overview"})]}),(0,r.jsxs)(f.SP,{value:"sprints",className:"flex items-center space-x-2",children:[r.jsx(n.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Sprints"})]}),(0,r.jsxs)(f.SP,{value:"planning",className:"flex items-center space-x-2",children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Planning"})]}),(0,r.jsxs)(f.SP,{value:"analytics",className:"flex items-center space-x-2",children:[r.jsx(c.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Analytics"})]})]}),r.jsx(f.nU,{value:s,className:"space-y-4",children:F?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(p.Z,{className:"h-8 w-8 animate-spin mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sprints..."})]}):(()=>{switch(s){case"overview":default:return renderOverviewTab();case"sprints":return renderSprintsTab();case"planning":return renderPlanningTab();case"analytics":return renderAnalyticsTab()}})()})]}),r.jsx(b.Vq,{open:H,onOpenChange:Q,children:(0,r.jsxs)(b.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)(b.fK,{children:[(0,r.jsxs)(b.$N,{children:["Sprint Details: ",M?.name]}),r.jsx(b.Be,{children:M?.description})]}),M&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{children:"Status"}),r.jsx(v.C,{className:getStatusColor(M.status),children:M.status})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{children:"Duration"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[M.startDate," - ",M.endDate]})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{children:"Story Points"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[M.completedStoryPoints,"/",M.totalStoryPoints]})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{children:"Velocity"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:M.velocity})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(N._,{children:["Team Members (",M.team.length,")"]}),r.jsx("div",{className:"mt-2 space-y-2",children:M.team.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.user}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.role," (",e.capacity,"h)"]})]}),r.jsx(v.C,{variant:"outline",children:e.isActive?"Active":"Inactive"})]},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(N._,{children:["Tasks (",M.tasks.length,")"]}),r.jsx("div",{className:"mt-2 space-y-2",children:M.tasks.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(v.C,{className:getTaskStatusColor(e.status),children:e.status.replace("_"," ")}),r.jsx(v.C,{className:getTaskPriorityColor(e.priority),children:e.priority}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[e.storyPoints," SP"]})]})]},s))})]})]})]})}),r.jsx(b.Vq,{open:U,onOpenChange:B,children:(0,r.jsxs)(b.cZ,{className:"max-w-2xl",children:[(0,r.jsxs)(b.fK,{children:[(0,r.jsxs)(b.$N,{children:["Edit Sprint: ",M?.name]}),r.jsx(b.Be,{children:"Update sprint information and settings"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"edit-name",children:"Sprint Name"}),r.jsx(S.I,{id:"edit-name",value:X.name,onChange:e=>ee(s=>({...s,name:e.target.value})),placeholder:"Enter sprint name"})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"edit-status",children:"Status"}),(0,r.jsxs)(P.Ph,{value:X.status,onValueChange:e=>ee(s=>({...s,status:e})),children:[r.jsx(P.i4,{children:r.jsx(P.ki,{placeholder:"Select status"})}),r.jsx(P.Bw,{children:en.map(e=>r.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"edit-description",children:"Description"}),r.jsx(w.g,{id:"edit-description",value:X.description,onChange:e=>ee(s=>({...s,description:e.target.value})),placeholder:"Enter sprint description",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"edit-startDate",children:"Start Date"}),r.jsx(S.I,{id:"edit-startDate",type:"date",value:X.startDate,onChange:e=>ee(s=>({...s,startDate:e.target.value}))})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"edit-endDate",children:"End Date"}),r.jsx(S.I,{id:"edit-endDate",type:"date",value:X.endDate,onChange:e=>ee(s=>({...s,endDate:e.target.value}))})]})]})]}),(0,r.jsxs)(b.cN,{children:[r.jsx(y.z,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),r.jsx(y.z,{onClick:handleUpdateSprint,disabled:F,children:F?(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Sprint"})]})]})}),r.jsx(b.Vq,{open:Y,onOpenChange:J,children:(0,r.jsxs)(b.cZ,{children:[(0,r.jsxs)(b.fK,{children:[r.jsx(b.$N,{children:"Delete Sprint"}),(0,r.jsxs)(b.Be,{children:['Are you sure you want to delete "',M?.name,'"? This action cannot be undone.']})]}),(0,r.jsxs)(b.cN,{children:[r.jsx(y.z,{variant:"outline",onClick:()=>J(!1),children:"Cancel"}),r.jsx(y.z,{variant:"destructive",onClick:handleDeleteSprint,disabled:F,children:F?(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Sprint"})]})]})}),r.jsx(b.Vq,{open:L,onOpenChange:K,children:(0,r.jsxs)(b.cZ,{children:[(0,r.jsxs)(b.fK,{children:[r.jsx(b.$N,{children:"Add Task to Sprint"}),r.jsx(b.Be,{children:"Add a new task to the current sprint"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"task-title",children:"Task Title"}),r.jsx(S.I,{id:"task-title",value:es.title,onChange:e=>et(s=>({...s,title:e.target.value})),placeholder:"Enter task title"})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"task-description",children:"Description"}),r.jsx(w.g,{id:"task-description",value:es.description,onChange:e=>et(s=>({...s,description:e.target.value})),placeholder:"Enter task description",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"task-status",children:"Status"}),(0,r.jsxs)(P.Ph,{value:es.status,onValueChange:e=>et(s=>({...s,status:e})),children:[r.jsx(P.i4,{children:r.jsx(P.ki,{placeholder:"Select status"})}),r.jsx(P.Bw,{children:ei.map(e=>r.jsx(P.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))})]})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"task-priority",children:"Priority"}),(0,r.jsxs)(P.Ph,{value:es.priority,onValueChange:e=>et(s=>({...s,priority:e})),children:[r.jsx(P.i4,{children:r.jsx(P.ki,{placeholder:"Select priority"})}),r.jsx(P.Bw,{children:el.map(e=>r.jsx(P.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"task-story-points",children:"Story Points"}),r.jsx(S.I,{id:"task-story-points",type:"number",value:es.storyPoints,onChange:e=>et(s=>({...s,storyPoints:parseInt(e.target.value)||0})),placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"task-estimated-hours",children:"Estimated Hours"}),r.jsx(S.I,{id:"task-estimated-hours",type:"number",value:es.estimatedHours,onChange:e=>et(s=>({...s,estimatedHours:parseInt(e.target.value)||0})),placeholder:"0"})]})]})]}),(0,r.jsxs)(b.cN,{children:[r.jsx(y.z,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),r.jsx(y.z,{onClick:()=>{if(!es.title||!es.description){alert("Please fill in all required fields");return}let e={title:es.title,description:es.description,status:es.status,priority:es.priority,storyPoints:es.storyPoints,assignee:es.assignee,estimatedHours:es.estimatedHours,actualHours:0};ee(s=>({...s,tasks:[...s.tasks,e]})),et({title:"",description:"",status:"todo",priority:"medium",storyPoints:0,assignee:"",estimatedHours:0}),K(!1)},children:"Add Task"})]})]})}),r.jsx(b.Vq,{open:W,onOpenChange:G,children:(0,r.jsxs)(b.cZ,{children:[(0,r.jsxs)(b.fK,{children:[r.jsx(b.$N,{children:"Add Team Member"}),r.jsx(b.Be,{children:"Add a new member to the sprint team"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"member-name",children:"Member Name"}),r.jsx(S.I,{id:"member-name",value:er.user,onChange:e=>ea(s=>({...s,user:e.target.value})),placeholder:"Enter member name"})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"member-role",children:"Role"}),(0,r.jsxs)(P.Ph,{value:er.role,onValueChange:e=>ea(s=>({...s,role:e})),children:[r.jsx(P.i4,{children:r.jsx(P.ki,{placeholder:"Select role"})}),r.jsx(P.Bw,{children:ec.map(e=>r.jsx(P.Ql,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{children:[r.jsx(N._,{htmlFor:"member-capacity",children:"Capacity (hours)"}),r.jsx(S.I,{id:"member-capacity",type:"number",value:er.capacity,onChange:e=>ea(s=>({...s,capacity:parseInt(e.target.value)||40})),placeholder:"40"})]})]}),(0,r.jsxs)(b.cN,{children:[r.jsx(y.z,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),r.jsx(y.z,{onClick:()=>{if(!er.user||!er.role){alert("Please fill in all required fields");return}let e={user:er.user,role:er.role,capacity:er.capacity,isActive:!0};ee(s=>({...s,team:[...s.team,e]})),ea({user:"",role:"",capacity:40}),G(!1)},children:"Add Member"})]})]})})]})}},57550:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var r=t(30784),a=t(9885),n=t(80467);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},46724:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>SprintsPage,dynamic:()=>d});var r=t(4656),a=t(95153);let n=(0,a.createProxy)(String.raw`D:\SAAS\ERP\ERP\frontend-nextjs\src\components\pages\Sprints\SprintPlanning.tsx`),{__esModule:i,$$typeof:l}=n,c=n.default,d="force-dynamic";function SprintsPage(){return r.jsx(c,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[2343,6578,9702,6776,274,6642,5371,4012,446,7608,7040,7133,7950,1932,3342,5907],()=>__webpack_exec__(61129));module.exports=t})();